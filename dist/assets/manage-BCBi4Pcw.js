import{aD as pe,aK as be,y as he,ad as ye,l as ke,a5 as ge,m as G,r as T,t as xe,c as m,a as t,a6 as we,J as Se,d as y,V as q,b as ue,L as $e,e as z,M as w,N as V,O as k,a7 as re,S as ae,U as se,P as de,aL as Ce,Q as De,ak as Ne,R as Me,o as c,a3 as Ie,ab as _e,_ as Ae}from"./index-CMVsiJL9.js";import me from"./serializedInventoryService-3dz-cBVH.js";var fe={exports:{}};(function(ce,H){(function(I,U){ce.exports=U()})(be,function(){var I=1e3,U=6e4,Q=36e5,P="millisecond",N="second",L="minute",S="hour",v="day",$="week",o="month",Y="quarter",C="year",j="date",h="Invalid Date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,E={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(u){var n=["th","st","nd","rd"],s=u%100;return"["+u+(n[(s-20)%10]||n[s]||n[0])+"]"}},R=function(u,n,s){var l=String(u);return!l||l.length>=n?u:""+Array(n+1-l.length).join(s)+u},le={s:R,z:function(u){var n=-u.utcOffset(),s=Math.abs(n),l=Math.floor(s/60),i=s%60;return(n<=0?"+":"-")+R(l,2,"0")+":"+R(i,2,"0")},m:function u(n,s){if(n.date()<s.date())return-u(s,n);var l=12*(s.year()-n.year())+(s.month()-n.month()),i=n.clone().add(l,o),r=s-i<0,e=n.clone().add(l+(r?-1:1),o);return+(-(l+(s-i)/(r?i-e:e-i))||0)},a:function(u){return u<0?Math.ceil(u)||0:Math.floor(u)},p:function(u){return{M:o,y:C,w:$,d:v,D:j,h:S,m:L,s:N,ms:P,Q:Y}[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(u){return u===void 0}},O="en",B={};B[O]=E;var ie="$isDayjsObject",X=function(u){return u instanceof D||!(!u||!u[ie])},Z=function u(n,s,l){var i;if(!n)return O;if(typeof n=="string"){var r=n.toLowerCase();B[r]&&(i=r),s&&(B[r]=s,i=r);var e=n.split("-");if(!i&&e.length>1)return u(e[0])}else{var d=n.name;B[d]=n,i=d}return!l&&i&&(O=i),i||!l&&O},g=function(u,n){if(X(u))return u.clone();var s=typeof n=="object"?n:{};return s.date=u,s.args=arguments,new D(s)},p=le;p.l=Z,p.i=X,p.w=function(u,n){return g(u,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var D=function(){function u(s){this.$L=Z(s.locale,null,!0),this.parse(s),this.$x=this.$x||s.x||{},this[ie]=!0}var n=u.prototype;return n.parse=function(s){this.$d=function(l){var i=l.date,r=l.utc;if(i===null)return new Date(NaN);if(p.u(i))return new Date;if(i instanceof Date)return new Date(i);if(typeof i=="string"&&!/Z$/i.test(i)){var e=i.match(_);if(e){var d=e[2]-1||0,b=(e[7]||"0").substring(0,3);return r?new Date(Date.UTC(e[1],d,e[3]||1,e[4]||0,e[5]||0,e[6]||0,b)):new Date(e[1],d,e[3]||1,e[4]||0,e[5]||0,e[6]||0,b)}}return new Date(i)}(s),this.init()},n.init=function(){var s=this.$d;this.$y=s.getFullYear(),this.$M=s.getMonth(),this.$D=s.getDate(),this.$W=s.getDay(),this.$H=s.getHours(),this.$m=s.getMinutes(),this.$s=s.getSeconds(),this.$ms=s.getMilliseconds()},n.$utils=function(){return p},n.isValid=function(){return this.$d.toString()!==h},n.isSame=function(s,l){var i=g(s);return this.startOf(l)<=i&&i<=this.endOf(l)},n.isAfter=function(s,l){return g(s)<this.startOf(l)},n.isBefore=function(s,l){return this.endOf(l)<g(s)},n.$g=function(s,l,i){return p.u(s)?this[l]:this.set(i,s)},n.unix=function(){return Math.floor(this.valueOf()/1e3)},n.valueOf=function(){return this.$d.getTime()},n.startOf=function(s,l){var i=this,r=!!p.u(l)||l,e=p.p(s),d=function(W,M){var K=p.w(i.$u?Date.UTC(i.$y,M,W):new Date(i.$y,M,W),i);return r?K:K.endOf(v)},b=function(W,M){return p.w(i.toDate()[W].apply(i.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(M)),i)},a=this.$W,x=this.$M,A=this.$D,J="set"+(this.$u?"UTC":"");switch(e){case C:return r?d(1,0):d(31,11);case o:return r?d(1,x):d(0,x+1);case $:var F=this.$locale().weekStart||0,ee=(a<F?a+7:a)-F;return d(r?A-ee:A+(6-ee),x);case v:case j:return b(J+"Hours",0);case S:return b(J+"Minutes",1);case L:return b(J+"Seconds",2);case N:return b(J+"Milliseconds",3);default:return this.clone()}},n.endOf=function(s){return this.startOf(s,!1)},n.$set=function(s,l){var i,r=p.p(s),e="set"+(this.$u?"UTC":""),d=(i={},i[v]=e+"Date",i[j]=e+"Date",i[o]=e+"Month",i[C]=e+"FullYear",i[S]=e+"Hours",i[L]=e+"Minutes",i[N]=e+"Seconds",i[P]=e+"Milliseconds",i)[r],b=r===v?this.$D+(l-this.$W):l;if(r===o||r===C){var a=this.clone().set(j,1);a.$d[d](b),a.init(),this.$d=a.set(j,Math.min(this.$D,a.daysInMonth())).$d}else d&&this.$d[d](b);return this.init(),this},n.set=function(s,l){return this.clone().$set(s,l)},n.get=function(s){return this[p.p(s)]()},n.add=function(s,l){var i,r=this;s=Number(s);var e=p.p(l),d=function(x){var A=g(r);return p.w(A.date(A.date()+Math.round(x*s)),r)};if(e===o)return this.set(o,this.$M+s);if(e===C)return this.set(C,this.$y+s);if(e===v)return d(1);if(e===$)return d(7);var b=(i={},i[L]=U,i[S]=Q,i[N]=I,i)[e]||1,a=this.$d.getTime()+s*b;return p.w(a,this)},n.subtract=function(s,l){return this.add(-1*s,l)},n.format=function(s){var l=this,i=this.$locale();if(!this.isValid())return i.invalidDate||h;var r=s||"YYYY-MM-DDTHH:mm:ssZ",e=p.z(this),d=this.$H,b=this.$m,a=this.$M,x=i.weekdays,A=i.months,J=i.meridiem,F=function(M,K,te,oe){return M&&(M[K]||M(l,r))||te[K].slice(0,oe)},ee=function(M){return p.s(d%12||12,M,"0")},W=J||function(M,K,te){var oe=M<12?"AM":"PM";return te?oe.toLowerCase():oe};return r.replace(f,function(M,K){return K||function(te){switch(te){case"YY":return String(l.$y).slice(-2);case"YYYY":return p.s(l.$y,4,"0");case"M":return a+1;case"MM":return p.s(a+1,2,"0");case"MMM":return F(i.monthsShort,a,A,3);case"MMMM":return F(A,a);case"D":return l.$D;case"DD":return p.s(l.$D,2,"0");case"d":return String(l.$W);case"dd":return F(i.weekdaysMin,l.$W,x,2);case"ddd":return F(i.weekdaysShort,l.$W,x,3);case"dddd":return x[l.$W];case"H":return String(d);case"HH":return p.s(d,2,"0");case"h":return ee(1);case"hh":return ee(2);case"a":return W(d,b,!0);case"A":return W(d,b,!1);case"m":return String(b);case"mm":return p.s(b,2,"0");case"s":return String(l.$s);case"ss":return p.s(l.$s,2,"0");case"SSS":return p.s(l.$ms,3,"0");case"Z":return e}return null}(M)||e.replace(":","")})},n.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},n.diff=function(s,l,i){var r,e=this,d=p.p(l),b=g(s),a=(b.utcOffset()-this.utcOffset())*U,x=this-b,A=function(){return p.m(e,b)};switch(d){case C:r=A()/12;break;case o:r=A();break;case Y:r=A()/3;break;case $:r=(x-a)/6048e5;break;case v:r=(x-a)/864e5;break;case S:r=x/Q;break;case L:r=x/U;break;case N:r=x/I;break;default:r=x}return i?r:p.a(r)},n.daysInMonth=function(){return this.endOf(o).$D},n.$locale=function(){return B[this.$L]},n.locale=function(s,l){if(!s)return this.$L;var i=this.clone(),r=Z(s,l,!0);return r&&(i.$L=r),i},n.clone=function(){return p.w(this.$d,this)},n.toDate=function(){return new Date(this.valueOf())},n.toJSON=function(){return this.isValid()?this.toISOString():null},n.toISOString=function(){return this.$d.toISOString()},n.toString=function(){return this.$d.toUTCString()},u}(),ne=D.prototype;return g.prototype=ne,[["$ms",P],["$s",N],["$m",L],["$H",S],["$W",v],["$M",o],["$y",C],["$D",j]].forEach(function(u){ne[u[1]]=function(n){return this.$g(n,u[0],u[1])}}),g.extend=function(u,n){return u.$i||(u(n,D,g),u.$i=!0),g},g.locale=Z,g.isDayjs=X,g.unix=function(u){return g(1e3*u)},g.en=B[O],g.Ls=B,g.p={},g})})(fe);var ze=fe.exports;const ve=pe(ze),Te={class:"flex justify-between mb-5 items-center"},Le={class:"font-semibold text-lg dark:text-white-light"},Ve={key:0},Pe={key:1},je={class:"mb-5"},Ee={class:"flex space-x-2 border-b border-[#ebedf2] dark:border-[#191e3a] mt-3 rtl:space-x-reverse"},Oe={key:0,class:"tab-item"},qe={class:"tab-item"},Be={key:0,class:"panel"},Ue={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Ye={class:"mb-4"},Ke={key:0,class:"text-red-500 text-xs mt-1"},He={class:"mb-4"},Re={key:0,class:"text-red-500 text-xs mt-1"},Fe={class:"mb-4"},We=["value"],Ze={key:0,class:"text-red-500 text-xs mt-1"},Je={class:"mb-4"},Ge=["disabled"],Qe=["value"],Xe={key:0,class:"text-red-500 text-xs mt-1"},et={class:"mb-4"},tt={key:0,class:"text-red-500 text-xs mt-1"},rt={class:"mb-4"},at={class:"mb-4"},st={class:"mb-4"},it={class:"flex items-center"},nt={key:0,class:"mb-4"},ot={class:"flex items-center"},lt={key:1,class:"mb-4"},ut={class:"mb-4 flex items-center"},dt={class:"inline-flex"},ct={class:"mb-4 sm:col-span-2"},mt={class:"flex justify-end gap-4 mt-4"},vt=["disabled"],ft={key:0,class:"animate-spin mr-2"},pt={key:1,class:"panel"},bt={class:"mb-6"},ht={class:"flex flex-wrap gap-3"},yt={class:"flex-1 min-w-[200px]"},kt={key:0,class:"mt-4"},gt={class:"overflow-x-auto"},xt={class:"table-auto w-full"},wt={class:"p-2"},St={class:"p-2"},$t={class:"p-2"},Ct={class:"p-2"},Dt={class:"p-2 text-right"},Nt=["onClick"],Mt={key:1,class:"mt-4 p-3 bg-gray-100 dark:bg-gray-700 rounded"},It={key:0,class:"mb-6 border-t border-b border-gray-200 dark:border-gray-700 py-4"},_t={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},At={class:"font-semibold"},zt={class:"font-semibold"},Tt={key:0},Lt={key:1,class:"mb-6"},Vt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Pt={class:"mb-4"},jt=["value"],Et={key:0,class:"text-red-500 text-xs mt-1"},Ot={class:"mb-4"},qt=["value"],Bt={class:"mb-4"},Ut={class:"flex flex-col mb-2"},Yt={for:"serialNumber",class:"mb-1"},Kt={key:0,class:"text-red-500"},Ht={class:"flex gap-2"},Rt=["required"],Ft={key:0,class:"text-red-500 text-xs mt-1"},Wt={key:1,class:"text-xs text-gray-500 mt-1"},Zt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Jt={class:"mb-4"},Gt={class:"mb-4"},Qt={class:"mb-4"},Xt={class:"flex justify-end gap-4"},er=["disabled"],tr={key:0,class:"animate-spin mr-2"},rr={class:"flex items-center gap-2"},ar=he({__name:"manage",setup(ce){Ne(),Me();const H=ye(),I=ke(),U=ge(),Q=G(()=>{try{return Ie()}catch(r){return console.warn("Rol servisi başlatılamadı, yetkilendirme devre dışı.",r),{isAdmin:()=>I.isAdmin,hasPermission:()=>I.canEditItems}}}),P=G(()=>Q.value.isAdmin());G(()=>Q.value.hasPermission(_e.EDIT_INVENTORY)||P.value);const N=T(P.value?"definitions":"add-to-warehouse"),L={ekinoks:["Hareketli Kamera","Sabit Kamera","Balistik Kamera","Akıllı Hareketli","Akıllı Sabit"],geko:["Geko","Geko+","Mobil PTS"],kayitcihazi:["NIR 54TB","NIR 96TB","CIR 96TB","CIR 216TB","NVR 64TB","NVR 96 TB","NAR 64 TB","NAR 96 TB"],ethernet:["C Tipi Ethernet Anahtar","B Tipi Ethernet Anahtar","A Tipi Ethernet Anahtar"]},S=T([]),v=T({}),$=T(!1),o=T({code:"",name:"",categoryId:"",subCategory:"",unit:"adet",stockNumber:"",minStockLevel:0,description:"",isActive:!0,hasSerialization:!1,requireSerialNumber:!1,serialNumberPrefix:""}),Y=T(""),C=T([]),j=T(!1),h=T(null),_=T({}),f=T({productId:"",serialNumber:"",warehouseId:"",projectId:"",acquisitionDate:ve().format("YYYY-MM-DD"),warrantyEndDate:"",notes:"",status:"active"}),E=T({show:!1,message:"",type:"info"}),R=G(()=>H.getCategories),le=G(()=>U.projects),O=G(()=>{const r=H.getWarehouses;if(I.isAdmin)return r;const e=I.getAuthorizedDepot;return e?r.filter(d=>d.code===e):[]}),B=()=>{const r=R.value.find(e=>e.id===o.value.categoryId);if(r){const e=r.name.toLowerCase();e.includes("ekinoks")?S.value=L.ekinoks:e.includes("geko")?S.value=L.geko:e.includes("kayıt")||e.includes("kayit")?S.value=L.kayitcihazi:e.includes("ethernet")?S.value=L.ethernet:S.value=[],o.value.subCategory=""}else S.value=[],o.value.subCategory=""},ie=r=>H.getProducts.find(b=>b.code&&b.code.toLowerCase()===r.toLowerCase())===void 0,X=()=>{v.value={};let r=!0;return o.value.code.trim()?ie(o.value.code)||(v.value.code="Bu ürün kodu zaten kullanılıyor",r=!1):(v.value.code="Ürün kodu zorunludur",r=!1),o.value.name.trim()||(v.value.name="Ürün adı zorunludur",r=!1),o.value.categoryId||(v.value.categoryId="Kategori seçmelisiniz",r=!1),o.value.categoryId&&S.value.length>0&&!o.value.subCategory&&(v.value.subCategory="Alt kategori seçmelisiniz",r=!1),o.value.unit||(v.value.unit="Birim seçmelisiniz",r=!1),r},Z=()=>{var e;_.value={};let r=!0;return f.value.warehouseId||(_.value.warehouseId="Depo seçimi zorunludur",r=!1),(e=h.value)!=null&&e.requireSerialNumber&&!f.value.serialNumber&&(_.value.serialNumber="Seri numarası zorunludur",r=!1),r},g=()=>{o.value={code:"",name:"",categoryId:"",subCategory:"",unit:"adet",stockNumber:"",minStockLevel:0,description:"",isActive:!0,hasSerialization:!1,requireSerialNumber:!1,serialNumberPrefix:""},v.value={},S.value=[],D("Form temizlendi","info")},p=()=>{f.value={productId:"",serialNumber:"",warehouseId:"",projectId:"",acquisitionDate:ve().format("YYYY-MM-DD"),warrantyEndDate:"",notes:"",status:"active"},_.value={},h.value=null,C.value=[],Y.value="",j.value=!1,D("Form temizlendi","info")},D=(r,e="info")=>{E.value={show:!0,message:r,type:e},setTimeout(()=>{E.value.show=!1},3e3)},ne=()=>{E.value.show=!1},u=async()=>{var r;if(X()){$.value=!0;try{await H.addProduct({code:o.value.code,name:o.value.name,categoryId:o.value.categoryId,subCategory:o.value.subCategory,unit:o.value.unit,stockNumber:o.value.stockNumber,minStockLevel:o.value.minStockLevel,description:o.value.description,isActive:o.value.isActive,category:((r=R.value.find(e=>e.id===o.value.categoryId))==null?void 0:r.name)||"",hasSerialization:o.value.hasSerialization,requireSerialNumber:o.value.requireSerialNumber,serialNumberPrefix:o.value.serialNumberPrefix,unitPrice:0}),D(`"${o.value.name}" ürünü başarıyla eklendi`,"success"),g()}catch(e){console.error("Ürün eklenirken hata oluştu:",e),D("Ürün eklenirken bir hata oluştu","error")}finally{$.value=!1}}},n=async()=>{if(!Y.value.trim()){D("Lütfen bir arama terimi girin","info");return}$.value=!0,j.value=!0;try{const r=H.getProducts,e=Y.value.toLowerCase();C.value=r.filter(d=>d.code&&d.code.toLowerCase().includes(e)||d.name&&d.name.toLowerCase().includes(e)||d.stockNumber&&d.stockNumber.toLowerCase().includes(e)),C.value=C.value.filter(d=>d.hasSerialization),C.value.length===0&&D("Aramanızla eşleşen seri numaralı takip edilen ürün bulunamadı","info")}catch(r){console.error("Ürün arama hatası:",r),D("Ürünler aranırken bir hata oluştu","error")}finally{$.value=!1}},s=r=>{h.value=r,f.value.productId=r.id,!I.isAdmin&&O.value.length===1&&(f.value.warehouseId=O.value[0].id),r.serialNumberPrefix&&(f.value.serialNumber=r.serialNumberPrefix)},l=()=>{if(!h.value||!h.value.serialNumberPrefix)return;const r=h.value.serialNumberPrefix,e=Math.floor(Math.random()*1e4).toString().padStart(4,"0"),d=Date.now().toString().slice(-4);f.value.serialNumber=`${r}${e}-${d}`},i=async()=>{if(Z()){$.value=!0;try{if(await me.getSerializedItemBySerialNumber(f.value.serialNumber)){_.value.serialNumber="Bu seri numarası zaten kullanımda",$.value=!1;return}const e={productId:h.value.id,serialNumber:f.value.serialNumber,warehouseId:f.value.warehouseId,projectId:f.value.projectId||null,status:f.value.status,acquisitionDate:f.value.acquisitionDate?new Date(f.value.acquisitionDate):new Date,warrantyEndDate:f.value.warrantyEndDate?new Date(f.value.warrantyEndDate):null,notes:f.value.notes||null};await me.addSerializedItem(e)&&(D(`"${h.value.name}" ürünü depoya başarıyla eklendi`,"success"),p())}catch(r){console.error("Seri numaralı ürün eklenirken hata oluştu:",r),D(r.message||"Seri numaralı ürün eklenirken bir hata oluştu","error")}finally{$.value=!1}}};return xe(async()=>{var r;I.isAdmin||(N.value="add-to-warehouse");try{if(await H.initializeStore(),await U.initializeStore(),!I.isAdmin&&((r=I.userInfo)!=null&&r.depot)){const e=O.value.find(d=>{var b;return d.code===((b=I.userInfo)==null?void 0:b.depot)});e&&(f.value.warehouseId=e.id)}}catch(e){console.error("Veri yükleme hatası:",e),D("Veriler yüklenirken bir hata oluştu","error")}}),(r,e)=>{var b;const d=De("router-link");return c(),m("div",null,[t("div",Te,[t("h5",Le,[P.value?(c(),m("span",Ve,"Ürün Yönetimi")):(c(),m("span",Pe,"Depoya Ürün Ekle"))]),P.value?(c(),we(d,{key:0,to:"/inventory/products",class:"btn btn-outline-primary"},{default:Se(()=>e[21]||(e[21]=[t("span",{class:"flex items-center"},[t("i",{class:"las la-arrow-left mr-1"}),z(" Ürün Listesine Dön ")],-1)])),_:1})):y("",!0)]),t("div",je,[t("ul",Ee,[P.value?(c(),m("li",Oe,[t("a",{href:"javascript:;",onClick:e[0]||(e[0]=a=>N.value="definitions"),class:q([{active:N.value==="definitions"},"p-3.5 py-2 -mb-[1px] block border border-transparent hover:text-primary dark:hover:text-primary"])},e[22]||(e[22]=[ue('<div class="flex items-center" data-v-4622c2e2><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 ltr:mr-2 rtl:ml-2" data-v-4622c2e2><path d="M4.97883 9.68508C2.99294 8.89073 2 8.49355 2 8C2 7.50645 2.99294 7.10927 4.97883 6.31492L7.7873 5.19153C9.77318 4.39718 10.7661 4 12 4C13.2339 4 14.2268 4.39718 16.2127 5.19153L19.0212 6.31492C21.0071 7.10927 22 7.50645 22 8C22 8.49355 21.0071 8.89073 19.0212 9.68508L16.2127 10.8085C14.2268 11.6028 13.2339 12 12 12C10.7661 12 9.77318 11.6028 7.7873 10.8085L4.97883 9.68508Z" stroke="currentColor" stroke-width="1.5" data-v-4622c2e2></path><path d="M22 12C22 12 21.0071 12.8907 19.0212 13.6851L16.2127 14.8085C14.2268 15.6028 13.2339 16 12 16C10.7661 16 9.77318 15.6028 7.7873 14.8085L4.97883 13.6851C2.99294 12.8907 2 12 2 12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" data-v-4622c2e2></path><path d="M22 16C22 16 21.0071 16.8907 19.0212 17.6851L16.2127 18.8085C14.2268 19.6028 13.2339 20 12 20C10.7661 20 9.77318 19.6028 7.7873 18.8085L4.97883 17.6851C2.99294 16.8907 2 16 2 16" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" data-v-4622c2e2></path></svg><span data-v-4622c2e2>Ürün Tanımları</span></div>',1)]),2)])):y("",!0),t("li",qe,[t("a",{href:"javascript:;",onClick:e[1]||(e[1]=a=>N.value="add-to-warehouse"),class:q([{active:N.value==="add-to-warehouse"},"p-3.5 py-2 -mb-[1px] block border border-transparent hover:text-primary dark:hover:text-primary"])},e[23]||(e[23]=[ue('<div class="flex items-center" data-v-4622c2e2><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 ltr:mr-2 rtl:ml-2" data-v-4622c2e2><path d="M16 12.9V17.1C16 20.6 14.6 22 11.1 22H6.9C3.4 22 2 20.6 2 17.1V12.9C2 9.4 3.4 8 6.9 8H11.1C14.6 8 16 9.4 16 12.9Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-4622c2e2></path><path d="M17.1 2H12.9C9.5 2 8.09998 3.3 8.00998 6.5H11.1C15.5 6.5 17.5 8.5 17.5 12.9V16C20.7 15.9 22 14.5 22 11.1V6.9C22 3.4 20.6 2 17.1 2Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-4622c2e2></path><path d="M9 14H12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-4622c2e2></path><path d="M10.5 16.5V11.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-4622c2e2></path></svg><span data-v-4622c2e2>Depoya Ürün Ekle</span></div>',1)]),2)])])]),t("div",null,[N.value==="definitions"&&P.value?(c(),m("div",Be,[t("form",{onSubmit:$e(u,["prevent"])},[t("div",Ue,[t("div",Ye,[e[24]||(e[24]=t("label",{for:"productCode"},[z("Ürün Kodu "),t("span",{class:"text-red-500"},"*")],-1)),w(t("input",{id:"productCode",type:"text",class:q(["form-input",{"border-red-500":v.value.code}]),"onUpdate:modelValue":e[2]||(e[2]=a=>o.value.code=a),required:""},null,2),[[V,o.value.code]]),v.value.code?(c(),m("p",Ke,k(v.value.code),1)):y("",!0)]),t("div",He,[e[25]||(e[25]=t("label",{for:"productName"},[z("Ürün Adı "),t("span",{class:"text-red-500"},"*")],-1)),w(t("input",{id:"productName",type:"text",class:q(["form-input",{"border-red-500":v.value.name}]),"onUpdate:modelValue":e[3]||(e[3]=a=>o.value.name=a),required:""},null,2),[[V,o.value.name]]),v.value.name?(c(),m("p",Re,k(v.value.name),1)):y("",!0)]),t("div",Fe,[e[27]||(e[27]=t("label",{for:"category"},[z("Kategori "),t("span",{class:"text-red-500"},"*")],-1)),w(t("select",{id:"category",class:q(["form-select",{"border-red-500":v.value.categoryId}]),"onUpdate:modelValue":e[4]||(e[4]=a=>o.value.categoryId=a),required:"",onChange:B},[e[26]||(e[26]=t("option",{value:""},"Kategori Seçiniz",-1)),(c(!0),m(ae,null,se(R.value,a=>(c(),m("option",{key:a.id,value:a.id},k(a.name),9,We))),128))],34),[[re,o.value.categoryId]]),v.value.categoryId?(c(),m("p",Ze,k(v.value.categoryId),1)):y("",!0)]),t("div",Je,[e[29]||(e[29]=t("label",{for:"subCategory"},[z("Alt Kategori "),t("span",{class:"text-red-500"},"*")],-1)),w(t("select",{id:"subCategory",class:q(["form-select",{"border-red-500":v.value.subCategory}]),"onUpdate:modelValue":e[5]||(e[5]=a=>o.value.subCategory=a),required:"",disabled:!o.value.categoryId||S.value.length===0},[e[28]||(e[28]=t("option",{value:""},"Alt Kategori Seçiniz",-1)),(c(!0),m(ae,null,se(S.value,(a,x)=>(c(),m("option",{key:x,value:a},k(a),9,Qe))),128))],10,Ge),[[re,o.value.subCategory]]),v.value.subCategory?(c(),m("p",Xe,k(v.value.subCategory),1)):y("",!0)]),t("div",et,[e[31]||(e[31]=t("label",{for:"unit"},[z("Birim "),t("span",{class:"text-red-500"},"*")],-1)),w(t("select",{id:"unit",class:q(["form-select",{"border-red-500":v.value.unit}]),"onUpdate:modelValue":e[6]||(e[6]=a=>o.value.unit=a),required:""},e[30]||(e[30]=[ue('<option value="adet" data-v-4622c2e2>Adet</option><option value="takım" data-v-4622c2e2>Takım</option><option value="lt" data-v-4622c2e2>Litre</option><option value="mt" data-v-4622c2e2>Metre</option><option value="kutu" data-v-4622c2e2>Kutu</option><option value="paket" data-v-4622c2e2>Paket</option>',6)]),2),[[re,o.value.unit]]),v.value.unit?(c(),m("p",tt,k(v.value.unit),1)):y("",!0)]),t("div",rt,[e[32]||(e[32]=t("label",{for:"stockNumber"},"Stok Numarası",-1)),w(t("input",{id:"stockNumber",type:"text",class:"form-input","onUpdate:modelValue":e[7]||(e[7]=a=>o.value.stockNumber=a),placeholder:"Stok numarası giriniz"},null,512),[[V,o.value.stockNumber]])]),t("div",at,[e[33]||(e[33]=t("label",{for:"minStockLevel"},"Minimum Stok Seviyesi",-1)),w(t("input",{id:"minStockLevel",type:"number",class:"form-input","onUpdate:modelValue":e[8]||(e[8]=a=>o.value.minStockLevel=a),min:"0"},null,512),[[V,o.value.minStockLevel]])]),t("div",st,[t("label",it,[w(t("input",{type:"checkbox",class:"form-checkbox","onUpdate:modelValue":e[9]||(e[9]=a=>o.value.hasSerialization=a)},null,512),[[de,o.value.hasSerialization]]),e[34]||(e[34]=t("span",{class:"ml-2"},"Seri Numarası İle Takip Et",-1))]),e[35]||(e[35]=t("p",{class:"text-xs text-gray-500 mt-1"},"Ürünleri benzersiz seri numarası ile takip etmek için işaretleyin",-1))]),o.value.hasSerialization?(c(),m("div",nt,[t("label",ot,[w(t("input",{type:"checkbox",class:"form-checkbox","onUpdate:modelValue":e[10]||(e[10]=a=>o.value.requireSerialNumber=a)},null,512),[[de,o.value.requireSerialNumber]]),e[36]||(e[36]=t("span",{class:"ml-2"},"Seri Numarası Zorunlu",-1))]),e[37]||(e[37]=t("p",{class:"text-xs text-gray-500 mt-1"},"İşaretlenirse, stok girişinde seri numarası girişi zorunlu olacaktır",-1))])):y("",!0),o.value.hasSerialization?(c(),m("div",lt,[e[38]||(e[38]=t("label",{for:"serialNumberPrefix"},"Seri Numarası Ön Eki",-1)),w(t("input",{id:"serialNumberPrefix",type:"text",class:"form-input","onUpdate:modelValue":e[11]||(e[11]=a=>o.value.serialNumberPrefix=a),placeholder:"Örn: KMR-"},null,512),[[V,o.value.serialNumberPrefix]]),e[39]||(e[39]=t("p",{class:"text-xs text-gray-500 mt-1"},"Otomatik seri numarası oluşturmada kullanılacak ön ek",-1))])):y("",!0),t("div",ut,[t("label",dt,[w(t("input",{type:"checkbox",class:"form-checkbox","onUpdate:modelValue":e[12]||(e[12]=a=>o.value.isActive=a)},null,512),[[de,o.value.isActive]]),e[40]||(e[40]=t("span",{class:"ml-2"},"Aktif",-1))])]),t("div",ct,[e[41]||(e[41]=t("label",{for:"description"},"Açıklama",-1)),w(t("textarea",{id:"description",class:"form-textarea",rows:"3","onUpdate:modelValue":e[13]||(e[13]=a=>o.value.description=a)},null,512),[[V,o.value.description]])])]),t("div",mt,[t("button",{type:"button",class:"btn btn-outline-danger",onClick:g}," Formu Temizle "),t("button",{type:"submit",class:"btn btn-primary",disabled:$.value},[$.value?(c(),m("span",ft,"↻")):y("",!0),e[42]||(e[42]=z(" Ürün Tanımı Kaydet "))],8,vt)])],32)])):y("",!0),N.value==="add-to-warehouse"?(c(),m("div",pt,[e[66]||(e[66]=t("h5",{class:"mb-5"},"Depoya Seri Numaralı Ürün Ekle",-1)),t("div",bt,[e[47]||(e[47]=t("h6",{class:"text-base mb-3 font-semibold"},"1. Ürün Seçin",-1)),e[48]||(e[48]=z()),t("div",ht,[t("div",yt,[w(t("input",{type:"text",class:"form-input","onUpdate:modelValue":e[14]||(e[14]=a=>Y.value=a),placeholder:"Ürün kodu, stok kodu veya adı ile ara...",onKeyup:Ce(n,["enter"])},null,544),[[V,Y.value]])]),t("button",{onClick:n,class:"btn btn-primary"},"Ara")]),C.value.length>0?(c(),m("div",kt,[e[45]||(e[45]=t("h6",{class:"text-sm mb-2"},"Arama Sonuçları",-1)),t("div",gt,[t("table",xt,[e[43]||(e[43]=t("thead",null,[t("tr",null,[t("th",{class:"border p-2 dark:border-[#191e3a] text-left"},"Ürün Kodu"),t("th",{class:"border p-2 dark:border-[#191e3a] text-left"},"Stok Kodu"),t("th",{class:"border p-2 dark:border-[#191e3a] text-left"},"Ürün Adı"),t("th",{class:"border p-2 dark:border-[#191e3a] text-left"},"Kategori"),t("th",{class:"border p-2 dark:border-[#191e3a] text-right"},"İşlem")])],-1)),e[44]||(e[44]=z()),t("tbody",null,[(c(!0),m(ae,null,se(C.value,a=>{var x;return c(),m("tr",{key:a.id,class:"border-b border-[#ebedf2] dark:border-[#191e3a]"},[t("td",wt,k(a.code),1),t("td",St,k(a.stockNumber||"-"),1),t("td",$t,k(a.name),1),t("td",Ct,k(typeof a.category=="object"?((x=a.category)==null?void 0:x.name)||"-":a.category),1),t("td",Dt,[t("button",{onClick:A=>s(a),class:"btn btn-sm btn-outline-primary"}," Seç ",8,Nt)])])}),128))])])])])):j.value?(c(),m("div",Mt,e[46]||(e[46]=[t("p",null,"Arama sonucu bulunamadı. Lütfen başka bir arama terimi deneyin.",-1)]))):y("",!0)]),h.value?(c(),m("div",It,[e[55]||(e[55]=t("h6",{class:"text-base mb-3 font-semibold"},"2. Seçilen Ürün Bilgileri",-1)),t("div",_t,[t("div",null,[e[49]||(e[49]=t("label",{class:"block text-sm font-medium"},"Ürün Kodu:",-1)),t("div",At,k(h.value.code),1)]),t("div",null,[e[50]||(e[50]=t("label",{class:"block text-sm font-medium"},"Ürün Adı:",-1)),t("div",zt,k(h.value.name),1)]),e[54]||(e[54]=z()),t("div",null,[e[51]||(e[51]=t("label",{class:"block text-sm font-medium"},"Kategori:",-1)),t("div",null,k(typeof h.value.category=="object"?((b=h.value.category)==null?void 0:b.name)||"-":h.value.category),1)]),t("div",null,[e[52]||(e[52]=t("label",{class:"block text-sm font-medium"},"Alt Kategori:",-1)),t("div",null,k(h.value.subCategory||"-"),1)]),h.value.description?(c(),m("div",Tt,[e[53]||(e[53]=t("label",{class:"block text-sm font-medium"},"Açıklama:",-1)),t("div",null,k(h.value.description),1)])):y("",!0)])])):y("",!0),h.value?(c(),m("div",Lt,[e[64]||(e[64]=t("h6",{class:"text-base mb-3 font-semibold"},"3. Depoya Ekleme Bilgileri",-1)),t("div",Vt,[t("div",Pt,[e[57]||(e[57]=t("label",{for:"warehouseId"},[z("Depo "),t("span",{class:"text-red-500"},"*")],-1)),w(t("select",{id:"warehouseId",class:q(["form-select",{"border-red-500":_.value.warehouseId}]),"onUpdate:modelValue":e[15]||(e[15]=a=>f.value.warehouseId=a),required:""},[e[56]||(e[56]=t("option",{value:""},"Depo Seçiniz",-1)),(c(!0),m(ae,null,se(O.value,a=>(c(),m("option",{key:a.id,value:a.id},k(a.name),9,jt))),128))],2),[[re,f.value.warehouseId]]),_.value.warehouseId?(c(),m("p",Et,k(_.value.warehouseId),1)):y("",!0)]),t("div",Ot,[e[59]||(e[59]=t("label",{for:"projectId"},"Proje",-1)),w(t("select",{id:"projectId",class:"form-select","onUpdate:modelValue":e[16]||(e[16]=a=>f.value.projectId=a)},[e[58]||(e[58]=t("option",{value:""},"Proje Seçiniz",-1)),(c(!0),m(ae,null,se(le.value,a=>(c(),m("option",{key:a.id,value:a.id},k(a.name),9,qt))),128))],512),[[re,f.value.projectId]])])]),t("div",Bt,[t("div",Ut,[t("label",Yt,[e[60]||(e[60]=z(" Seri Numarası ")),h.value.requireSerialNumber?(c(),m("span",Kt,"*")):y("",!0)]),t("div",Ht,[w(t("input",{id:"serialNumber",type:"text",class:q(["form-input",{"border-red-500":_.value.serialNumber}]),"onUpdate:modelValue":e[17]||(e[17]=a=>f.value.serialNumber=a),required:h.value.requireSerialNumber,placeholder:"Ürün seri numarasını girin"},null,10,Rt),[[V,f.value.serialNumber]]),h.value.serialNumberPrefix?(c(),m("button",{key:0,type:"button",class:"btn btn-outline-info",onClick:l}," Oluştur ")):y("",!0)]),_.value.serialNumber?(c(),m("p",Ft,k(_.value.serialNumber),1)):y("",!0),h.value.serialNumberPrefix?(c(),m("p",Wt," Ön ek: "+k(h.value.serialNumberPrefix),1)):y("",!0)])]),t("div",Zt,[t("div",Jt,[e[61]||(e[61]=t("label",{for:"acquisitionDate"},"Edinim Tarihi",-1)),w(t("input",{id:"acquisitionDate",type:"date",class:"form-input","onUpdate:modelValue":e[18]||(e[18]=a=>f.value.acquisitionDate=a)},null,512),[[V,f.value.acquisitionDate]])]),t("div",Gt,[e[62]||(e[62]=t("label",{for:"warrantyEndDate"},"Garanti Bitiş Tarihi",-1)),w(t("input",{id:"warrantyEndDate",type:"date",class:"form-input","onUpdate:modelValue":e[19]||(e[19]=a=>f.value.warrantyEndDate=a)},null,512),[[V,f.value.warrantyEndDate]])])]),t("div",Qt,[e[63]||(e[63]=t("label",{for:"notes"},"Notlar",-1)),w(t("textarea",{id:"notes",class:"form-textarea",rows:"3","onUpdate:modelValue":e[20]||(e[20]=a=>f.value.notes=a),placeholder:"Ürün ile ilgili özel notlar"},null,512),[[V,f.value.notes]])])])):y("",!0),t("div",Xt,[t("button",{type:"button",class:"btn btn-outline-danger",onClick:p}," Temizle "),t("button",{type:"button",class:"btn btn-primary",onClick:i,disabled:$.value||!h.value},[$.value?(c(),m("span",tr,"↻")):y("",!0),e[65]||(e[65]=z(" Depoya Ekle "))],8,er)])])):y("",!0)]),E.value.show?(c(),m("div",{key:0,class:q(["fixed top-4 right-4 p-4 rounded shadow-md z-50 transition-all duration-300",{"bg-green-500 text-white":E.value.type==="success","bg-red-500 text-white":E.value.type==="error","bg-blue-500 text-white":E.value.type==="info"}])},[t("div",rr,[t("span",null,k(E.value.message),1),t("button",{class:"ml-4 text-white hover:text-gray-200",onClick:ne},e[67]||(e[67]=[t("i",{class:"las la-times"},null,-1)]))])],2)):y("",!0)])}}}),nr=Ae(ar,[["__scopeId","data-v-4622c2e2"]]);export{nr as default};
