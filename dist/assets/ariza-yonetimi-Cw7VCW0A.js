import{_ as te,ad as le,a5 as se,l as re,u as ne,r as y,m as p,t as oe,c as i,a as e,b as ae,O as n,e as ie,V as b,S,U as h,a6 as G,L as z,M as m,a7 as f,N as A,d as k,a8 as K,o}from"./index-CMVsiJL9.js";import{u as de}from"./ariza-store-C8TUQZm-.js";import"./serializedInventoryService-3dz-cBVH.js";const ue={class:"pt-5"},me={class:"grid sm:grid-cols-2 md:grid-cols-4 gap-6 mb-6"},ve={class:"panel p-4"},be={class:"flex items-center"},pe={class:"ltr:ml-3 rtl:mr-3"},ge={class:"text-2xl font-bold ltr:mr-3 rtl:ml-3"},ye={class:"panel p-4"},ce={class:"flex items-center"},fe={class:"ltr:ml-3 rtl:mr-3"},ke={class:"text-2xl font-bold ltr:mr-3 rtl:ml-3"},xe={class:"panel p-4"},we={class:"flex items-center"},Se={class:"ltr:ml-3 rtl:mr-3"},he={class:"text-2xl font-bold ltr:mr-3 rtl:ml-3"},De={class:"panel p-4"},je={class:"flex items-center"},Ce={class:"ltr:ml-3 rtl:mr-3"},Ie={class:"text-2xl font-bold ltr:mr-3 rtl:ml-3"},Ne={class:"panel mb-5"},ze={class:"flex items-center justify-between mb-5"},Ae={class:"mb-5"},Te={class:"flex flex-wrap items-center gap-3"},Oe={class:"table-responsive"},Pe={class:"table-striped"},Ge={key:0},Ke={class:"flex gap-2"},Ve=["onClick"],$e=["onClick"],Me={key:1},Ue={colspan:"8",class:"text-center"},We={key:0,class:"fixed inset-0 bg-black/60 z-[999] flex items-center justify-center overflow-y-auto px-4"},Be={class:"flex bg-[#fbfbfb] dark:bg-[#121c2c] items-center justify-between px-5 py-3"},Ee={class:"p-5"},Ye={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},qe=["value"],Re={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Le=["value"],Fe=["value"],Ze={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},_e=["value"],He={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Je={class:"flex justify-end items-center mt-8"},Qe=["disabled"],Xe={key:0,class:"fixed inset-0 bg-black/60 z-[999] flex items-center justify-center overflow-y-auto px-4"},et={class:"flex bg-[#fbfbfb] dark:bg-[#121c2c] items-center justify-between px-5 py-3"},tt={key:0,class:"p-5"},lt={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},st={class:"text-base"},rt={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},nt={class:"text-base"},ot={class:"text-base"},at={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},it={class:"text-base"},dt={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},ut={class:"text-base"},mt={class:"text-base"},vt={class:"mb-4"},bt={class:"text-base"},pt={key:0,class:"mb-4"},gt={class:"text-base"},yt={key:1,class:"mb-4"},ct={class:"text-base"},ft={key:2,class:"mb-4"},kt={class:"text-base"},xt={class:"flex justify-end"},wt={key:0,class:"fixed inset-0 bg-black/60 z-[999] flex items-center justify-center overflow-y-auto px-4"},St={class:"flex bg-[#fbfbfb] dark:bg-[#121c2c] items-center justify-between px-5 py-3"},ht={key:0,class:"p-5"},Dt={class:"mb-5"},jt=["value"],Ct={class:"mb-5"},It={class:"flex justify-end items-center mt-8"},Nt=["disabled"],zt={__name:"ariza-yonetimi",setup(At){const x=de(),T=le(),O=se(),c=re(),D=ne(),v=y(!1),V=y(null),d=y(""),j=y(!1),P=y(!1),C=y(!1),r=y(null),a=y({productId:"",serialNumber:"",description:"",senderWarehouseId:"",serviceCenter:"",projectId:"",sendDate:new Date,estimatedRepairTime:3,priority:"Orta",warrantyStatus:!0,faultType:"Donanımsal",trackingNumber:""}),g=y({newStatus:"",notes:""}),q=async()=>{var s,t;v.value=!0,V.value=null;try{await Promise.all([x.initializeStore(),T.initializeStore(),O.initializeStore()]),console.log("Veriler başarıyla yüklendi"),console.log("Depolar:",T.getWarehouses),console.log("Projeler:",O.projects),console.log("Arızalı Ürünler:",x.getFaultyProducts),(((s=c.userInfo)==null?void 0:s.role)==="user"||((t=c.userInfo)==null?void 0:t.role)==="depo_sorumlusu")&&c.userInfo.depot&&(a.value.senderWarehouseId=c.userInfo.depot)}catch(l){console.error("Veri yükleme hatası:",l),V.value="Veri yüklenirken bir hata oluştu",D.error("Veri yüklenirken bir hata oluştu")}finally{v.value=!1}},I=p(()=>x.getFaultyProducts),$=p(()=>x.getServiceCenters),R=p(()=>T.getProducts),M=p(()=>{const s=T.getWarehouses||[],t=c.userInfo;if(console.log("Depo filtreleme - Tüm depolar:",s),console.log("Depo filtreleme - Kullanıcı:",t),!s||s.length===0)return console.warn("Depo listesi boş veya tanımsız!"),[];if(!t)return console.warn("Kullanıcı bilgisi bulunamadı, tüm depolar gösteriliyor"),s;if(t.role==="admin"||t.role==="proje_admin")return s;if(t.role==="depo_sorumlusu"||t.role==="user"){if(!t.depot)return console.warn("Kullanıcı için depo tanımlı değil, tüm depolar gösteriliyor"),s;console.log("Kullanıcı deposu:",t.depot),console.log("Mevcut depo ID'leri:",s.map(u=>u.id));const l=s.filter(u=>{const N=String(u.id).trim().toLowerCase(),w=String(t.depot).trim().toLowerCase();return N===w||N===w.replace(/[^a-zA-Z0-9]/g,"")||u.code===w});return console.log("Filtrelenmiş depolar:",l),l.length>0?l:(console.warn("Kullanıcı deposu depo listesinde bulunamadı! ID:",t.depot),console.log("Mevcut tüm depo ID'leri:",s.map(u=>u.id)),[])}return s}),U=p(()=>{const s=O.userProjects;if(console.log("Kullanıcının erişebileceği projeler:",s),!s||s.length===0){const l=O.projects;if(Array.isArray(l)&&l.length>0)return console.log("Kullanıcı yetkileri filtrelenmedi, tüm projeler döndürülüyor:",l),l}else return s;const t=[{id:"proje1",name:"Proje 1"},{id:"proje2",name:"Proje 2"},{id:"proje3",name:"Proje 3"}];return console.log("Hiç proje bulunamadı, sabit projeler kullanılıyor"),t}),W=p(()=>{const s=c.userInfo;let t=I.value||[];if(console.log("Arızalı ürünler (filtreleme öncesi):",t.length),!s)return console.warn("Kullanıcı bilgisi bulunamadı, ürünler gizleniyor"),[];if(s.role==="admin"||s.role==="proje_admin")console.log("Admin/Proje Admin kullanıcısı, tüm ürünler gösteriliyor");else if((s.role==="depo_sorumlusu"||s.role==="user")&&s.depot){console.log("Depo sorumlusu filtresi uygulanıyor. Kullanıcı deposu:",s.depot);const l=String(s.depot).trim().toLowerCase();t=t.filter(u=>{if(!u.senderWarehouseId)return!1;const N=String(u.senderWarehouseId).trim().toLowerCase(),w=N===l||N.replace(/[^a-zA-Z0-9]/g,"")===l.replace(/[^a-zA-Z0-9]/g,"");return w&&console.log(`Ürün eşleşti: ${u.serialNumber} - Depo: ${u.senderWarehouseId}`),w}),console.log("Depoya göre filtrelenmiş ürün sayısı:",t.length)}else return console.log("Yetkisiz kullanıcı, ürünler gizleniyor"),[];if(d.value){const l=t.length;t=t.filter(u=>u.status===d.value),console.log(`Durum filtrelemesi: ${d.value}, önceki: ${l}, sonraki: ${t.length}`)}return t}),L=p(()=>I.value.filter(s=>["Gönderildi","Serviste","Onarılıyor"].includes(s.status)).length),F=p(()=>I.value.filter(s=>["Onarıldı","İade Edildi","İade Alındı"].includes(s.status)).length),Z=p(()=>I.value.filter(s=>s.warrantyStatus).length),_=p(()=>{if(!r.value)return[];const s=r.value.status;return{Gönderildi:["Serviste"],Serviste:["Onarılıyor","Onarıldı"],Onarılıyor:["Onarıldı"],Onarıldı:["İade Edildi"],"İade Edildi":["İade Alındı"],"İade Alındı":[]}[s]||[]}),B=s=>s?(typeof s=="object"&&s.toDate&&(s=s.toDate()),new Date(s).toLocaleDateString("tr-TR")):"",E=s=>{const t=M.value.find(l=>l.id===s);return t?t.name:s},Y=s=>{const t=$.value.find(l=>l.id===s);return t?t.name:s},H=s=>{const t=U.value.find(l=>l.id===s);return t?t.name:s},J=async()=>{v.value=!0;try{await x.addFaultyProduct({...a.value,sendDate:new Date})&&(D.success("Arızalı ürün kaydı başarıyla oluşturuldu"),j.value=!1,a.value={productId:"",serialNumber:"",description:"",senderWarehouseId:"",serviceCenter:"",projectId:"",sendDate:new Date,estimatedRepairTime:3,priority:"Orta",warrantyStatus:!0,faultType:"Donanımsal",trackingNumber:""})}catch(s){console.error("Error adding faulty product:",s),D.error("Arızalı ürün kaydı oluşturulurken bir hata oluştu")}finally{v.value=!1}},Q=s=>{r.value=s,P.value=!0},X=s=>{r.value=s,g.value.newStatus="",g.value.notes="",C.value=!0},ee=async()=>{if(!(!r.value||!g.value.newStatus)){v.value=!0;try{await x.updateStatus(r.value.id,g.value.newStatus,g.value.notes)&&(D.success("Durum başarıyla güncellendi"),C.value=!1)}catch(s){console.error("Error updating status:",s),D.error("Durum güncellenirken bir hata oluştu")}finally{v.value=!1}}};return oe(()=>{console.log("Auth Store on mount:",c.userInfo),q(),c.userInfo||console.warn("Kullanıcı bilgileri yüklenemedi, filtreleme doğru çalışmayabilir")}),(s,t)=>(o(),i("div",null,[e("div",ue,[e("div",me,[e("div",ve,[e("div",be,[t[31]||(t[31]=ae('<div class="w-14 h-14 flex items-center justify-center rounded-full bg-primary-light dark:bg-primary text-primary dark:text-white-light" data-v-48fe7d13><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6" data-v-48fe7d13><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z" data-v-48fe7d13></path><line x1="12" y1="9" x2="12" y2="13" data-v-48fe7d13></line><line x1="12" y1="17" x2="12.01" y2="17" data-v-48fe7d13></line></svg></div>',1)),e("div",pe,[t[30]||(t[30]=e("p",{class:"text-gray-600 dark:text-gray-400"},"Toplam Arızalı Ürün",-1)),e("h5",ge,n(I.value.length),1)])])]),e("div",ye,[e("div",ce,[t[33]||(t[33]=e("div",{class:"w-14 h-14 flex items-center justify-center rounded-full bg-danger-light dark:bg-danger text-danger dark:text-white-light"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"w-6 h-6"},[e("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"})])],-1)),e("div",fe,[t[32]||(t[32]=e("p",{class:"text-gray-600 dark:text-gray-400"},"Bekleyen Onarımlar",-1)),e("h5",ke,n(L.value),1)])])]),e("div",xe,[e("div",we,[t[35]||(t[35]=e("div",{class:"w-14 h-14 flex items-center justify-center rounded-full bg-success-light dark:bg-success text-success dark:text-white-light"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"w-6 h-6"},[e("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"}),e("path",{d:"m9 12 2 2 4-4"})])],-1)),e("div",Se,[t[34]||(t[34]=e("p",{class:"text-gray-600 dark:text-gray-400"},"Tamamlanan Onarımlar",-1)),e("h5",he,n(F.value),1)])])]),e("div",De,[e("div",je,[t[37]||(t[37]=e("div",{class:"w-14 h-14 flex items-center justify-center rounded-full bg-warning-light dark:bg-warning text-warning dark:text-white-light"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"w-6 h-6"},[e("path",{d:"M20.42 4.58a5.4 5.4 0 0 0-7.65 0l-.77.78-.77-.78a5.4 5.4 0 0 0-7.65 0C1.46 6.7 1.33 10.28 4 13l8 8 8-8c2.67-2.72 2.54-6.3.42-8.42z"})])],-1)),e("div",Ce,[t[36]||(t[36]=e("p",{class:"text-gray-600 dark:text-gray-400"},"Garanti Kapsamında",-1)),e("h5",Ie,n(Z.value),1)])])])]),e("div",Ne,[e("div",ze,[t[39]||(t[39]=e("h5",{class:"font-semibold text-lg dark:text-white-light"},"Arızalı Ürün Yönetimi",-1)),e("button",{type:"button",onClick:t[0]||(t[0]=l=>j.value=!0),class:"btn btn-primary"},t[38]||(t[38]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"w-5 h-5 ltr:mr-2 rtl:ml-2"},[e("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e("line",{x1:"5",y1:"12",x2:"19",y2:"12"})],-1),ie(" Arızalı Ürün Ekle ")]))]),e("div",Ae,[e("div",Te,[e("button",{type:"button",onClick:t[1]||(t[1]=l=>d.value=""),class:b(["btn",d.value===""?"btn-primary":"btn-outline-primary"])}," Tümü ",2),e("button",{type:"button",onClick:t[2]||(t[2]=l=>d.value="Gönderildi"),class:b(["btn",d.value==="Gönderildi"?"btn-primary":"btn-outline-primary"])}," Gönderildi ",2),e("button",{type:"button",onClick:t[3]||(t[3]=l=>d.value="Serviste"),class:b(["btn",d.value==="Serviste"?"btn-primary":"btn-outline-primary"])}," Serviste ",2),e("button",{type:"button",onClick:t[4]||(t[4]=l=>d.value="Onarılıyor"),class:b(["btn",d.value==="Onarılıyor"?"btn-primary":"btn-outline-primary"])}," Onarılıyor ",2),e("button",{type:"button",onClick:t[5]||(t[5]=l=>d.value="Onarıldı"),class:b(["btn",d.value==="Onarıldı"?"btn-primary":"btn-outline-primary"])}," Onarıldı ",2),e("button",{type:"button",onClick:t[6]||(t[6]=l=>d.value="İade Edildi"),class:b(["btn",d.value==="İade Edildi"?"btn-primary":"btn-outline-primary"])}," İade Edildi ",2),e("button",{type:"button",onClick:t[7]||(t[7]=l=>d.value="İade Alındı"),class:b(["btn",d.value==="İade Alındı"?"btn-primary":"btn-outline-primary"])}," İade Alındı ",2)])]),e("div",Oe,[e("table",Pe,[t[40]||(t[40]=e("thead",null,[e("tr",null,[e("th",null,"Seri No"),e("th",null,"Açıklama"),e("th",null,"Depo"),e("th",null,"Servis Merkezi"),e("th",null,"Gönderim Tarihi"),e("th",null,"Durum"),e("th",null,"Öncelik"),e("th",null,"İşlemler")])],-1)),W.value.length?(o(),i("tbody",Ge,[(o(!0),i(S,null,h(W.value,l=>(o(),i("tr",{key:l.id},[e("td",null,n(l.serialNumber),1),e("td",null,n(l.description),1),e("td",null,n(E(l.senderWarehouseId)),1),e("td",null,n(Y(l.serviceCenter)),1),e("td",null,n(B(l.sendDate)),1),e("td",null,[e("span",{class:b({"badge badge-outline-primary":l.status==="Gönderildi","badge badge-outline-warning":l.status==="Serviste"||l.status==="Onarılıyor","badge badge-outline-success":l.status==="Onarıldı"||l.status==="İade Alındı","badge badge-outline-info":l.status==="İade Edildi"})},n(l.status),3)]),e("td",null,[e("span",{class:b({"badge badge-outline-success":l.priority==="Düşük","badge badge-outline-warning":l.priority==="Orta","badge badge-outline-danger":l.priority==="Yüksek"})},n(l.priority),3)]),e("td",null,[e("div",Ke,[e("button",{type:"button",onClick:u=>Q(l),class:"btn btn-sm btn-outline-info"}," Detay ",8,Ve),e("button",{type:"button",onClick:u=>X(l),class:"btn btn-sm btn-outline-primary"}," Durum Güncelle ",8,$e)])])]))),128))])):(o(),i("tbody",Me,[e("tr",null,[e("td",Ue,n(v.value?"Yükleniyor...":"Kayıt bulunamadı"),1)])]))])])])]),(o(),G(K,{to:"body"},[j.value?(o(),i("div",We,[e("div",{onClick:t[21]||(t[21]=z(()=>{},["stop"])),class:"panel border-0 p-0 rounded-lg overflow-hidden w-full max-w-2xl"},[e("div",Be,[t[42]||(t[42]=e("h5",{class:"font-bold text-lg"},"Yeni Arızalı Ürün Kaydı",-1)),e("button",{type:"button",onClick:t[8]||(t[8]=l=>j.value=!1),class:"text-white-dark hover:text-dark"},t[41]||(t[41]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"w-6 h-6"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),e("div",Ee,[e("form",{class:"space-y-5",onSubmit:z(J,["prevent"])},[e("div",Ye,[e("div",null,[t[44]||(t[44]=e("label",{for:"productId"},"Ürün",-1)),m(e("select",{id:"productId","onUpdate:modelValue":t[9]||(t[9]=l=>a.value.productId=l),class:"form-select",required:""},[t[43]||(t[43]=e("option",{value:"",disabled:""},"Ürün Seçin",-1)),(o(!0),i(S,null,h(R.value,l=>(o(),i("option",{key:l.id,value:l.id},n(l.name)+" - "+n(l.serialNumber),9,qe))),128))],512),[[f,a.value.productId]])]),e("div",null,[t[45]||(t[45]=e("label",{for:"serialNumber"},"Seri Numarası",-1)),m(e("input",{id:"serialNumber","onUpdate:modelValue":t[10]||(t[10]=l=>a.value.serialNumber=l),type:"text",class:"form-input",required:""},null,512),[[A,a.value.serialNumber]])])]),e("div",Re,[e("div",null,[t[47]||(t[47]=e("label",{for:"senderWarehouseId"},"Gönderen Depo",-1)),m(e("select",{id:"senderWarehouseId","onUpdate:modelValue":t[11]||(t[11]=l=>a.value.senderWarehouseId=l),class:"form-select",required:""},[t[46]||(t[46]=e("option",{value:"",disabled:""},"Depo Seçin",-1)),(o(!0),i(S,null,h(M.value,l=>(o(),i("option",{key:l.id,value:l.id},n(l.name),9,Le))),128))],512),[[f,a.value.senderWarehouseId]])]),e("div",null,[t[49]||(t[49]=e("label",{for:"serviceCenter"},"Servis Merkezi",-1)),m(e("select",{id:"serviceCenter","onUpdate:modelValue":t[12]||(t[12]=l=>a.value.serviceCenter=l),class:"form-select",required:""},[t[48]||(t[48]=e("option",{value:"",disabled:""},"Servis Merkezi Seçin",-1)),(o(!0),i(S,null,h($.value,l=>(o(),i("option",{key:l.id,value:l.id},n(l.name),9,Fe))),128))],512),[[f,a.value.serviceCenter]])])]),e("div",Ze,[e("div",null,[t[51]||(t[51]=e("label",{for:"projectId"},"Proje",-1)),m(e("select",{id:"projectId","onUpdate:modelValue":t[13]||(t[13]=l=>a.value.projectId=l),class:"form-select",required:""},[t[50]||(t[50]=e("option",{value:"",disabled:""},"Proje Seçin",-1)),(o(!0),i(S,null,h(U.value,l=>(o(),i("option",{key:l.id,value:l.id},n(l.name),9,_e))),128))],512),[[f,a.value.projectId]])]),e("div",null,[t[53]||(t[53]=e("label",{for:"priority"},"Öncelik",-1)),m(e("select",{id:"priority","onUpdate:modelValue":t[14]||(t[14]=l=>a.value.priority=l),class:"form-select",required:""},t[52]||(t[52]=[e("option",{value:"",disabled:""},"Öncelik Seçin",-1),e("option",{value:"Düşük"},"Düşük",-1),e("option",{value:"Orta"},"Orta",-1),e("option",{value:"Yüksek"},"Yüksek",-1)]),512),[[f,a.value.priority]])]),e("div",null,[t[55]||(t[55]=e("label",{for:"faultType"},"Arıza Tipi",-1)),m(e("select",{id:"faultType","onUpdate:modelValue":t[15]||(t[15]=l=>a.value.faultType=l),class:"form-select",required:""},t[54]||(t[54]=[e("option",{value:"",disabled:""},"Arıza Tipi Seçin",-1),e("option",{value:"Donanımsal"},"Donanımsal",-1),e("option",{value:"Yazılımsal"},"Yazılımsal",-1),e("option",{value:"Diğer"},"Diğer",-1)]),512),[[f,a.value.faultType]])])]),e("div",He,[e("div",null,[t[57]||(t[57]=e("label",{for:"warrantyStatus"},"Garanti Durumu",-1)),m(e("select",{id:"warrantyStatus","onUpdate:modelValue":t[16]||(t[16]=l=>a.value.warrantyStatus=l),class:"form-select"},t[56]||(t[56]=[e("option",{value:!0},"Garanti Kapsamında",-1),e("option",{value:!1},"Garanti Kapsamı Dışında",-1)]),512),[[f,a.value.warrantyStatus]])]),e("div",null,[t[58]||(t[58]=e("label",{for:"estimatedRepairTime"},"Tahmini Onarım Süresi (Gün)",-1)),m(e("input",{id:"estimatedRepairTime","onUpdate:modelValue":t[17]||(t[17]=l=>a.value.estimatedRepairTime=l),type:"number",min:"1",class:"form-input",required:""},null,512),[[A,a.value.estimatedRepairTime]])])]),e("div",null,[t[59]||(t[59]=e("label",{for:"description"},"Arıza Açıklaması",-1)),m(e("textarea",{id:"description","onUpdate:modelValue":t[18]||(t[18]=l=>a.value.description=l),class:"form-textarea",rows:"3",required:""},null,512),[[A,a.value.description]])]),e("div",null,[t[60]||(t[60]=e("label",{for:"trackingNumber"},"Kargo Takip Numarası",-1)),m(e("input",{id:"trackingNumber","onUpdate:modelValue":t[19]||(t[19]=l=>a.value.trackingNumber=l),type:"text",class:"form-input"},null,512),[[A,a.value.trackingNumber]])]),e("div",Je,[e("button",{type:"button",onClick:t[20]||(t[20]=l=>j.value=!1),class:"btn btn-outline-danger ltr:mr-2 rtl:ml-2"}," İptal "),e("button",{type:"submit",class:"btn btn-primary",disabled:v.value},n(v.value?"Kaydediliyor...":"Kaydet"),9,Qe)])],32)])])])):k("",!0)])),(o(),G(K,{to:"body"},[P.value?(o(),i("div",Xe,[e("div",{onClick:t[24]||(t[24]=z(()=>{},["stop"])),class:"panel border-0 p-0 rounded-lg overflow-hidden w-full max-w-2xl"},[e("div",et,[t[62]||(t[62]=e("h5",{class:"font-bold text-lg"},"Arızalı Ürün Detayı",-1)),e("button",{type:"button",onClick:t[22]||(t[22]=l=>P.value=!1),class:"text-white-dark hover:text-dark"},t[61]||(t[61]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"w-6 h-6"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),r.value?(o(),i("div",tt,[e("div",lt,[e("div",null,[t[63]||(t[63]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Seri Numarası",-1)),e("div",st,n(r.value.serialNumber),1)]),e("div",null,[t[64]||(t[64]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Durum",-1)),e("div",null,[e("span",{class:b({"badge badge-outline-primary":r.value.status==="Gönderildi","badge badge-outline-warning":r.value.status==="Serviste"||r.value.status==="Onarılıyor","badge badge-outline-success":r.value.status==="Onarıldı"||r.value.status==="İade Alındı","badge badge-outline-info":r.value.status==="İade Edildi"})},n(r.value.status),3)])])]),e("div",rt,[e("div",null,[t[65]||(t[65]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Gönderen Depo",-1)),e("div",nt,n(E(r.value.senderWarehouseId)),1)]),e("div",null,[t[66]||(t[66]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Servis Merkezi",-1)),e("div",ot,n(Y(r.value.serviceCenter)),1)])]),e("div",at,[e("div",null,[t[67]||(t[67]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Proje",-1)),e("div",it,n(H(r.value.projectId)),1)]),e("div",null,[t[68]||(t[68]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Öncelik",-1)),e("div",null,[e("span",{class:b({"badge badge-outline-success":r.value.priority==="Düşük","badge badge-outline-warning":r.value.priority==="Orta","badge badge-outline-danger":r.value.priority==="Yüksek"})},n(r.value.priority),3)])])]),e("div",dt,[e("div",null,[t[69]||(t[69]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Gönderim Tarihi",-1)),e("div",ut,n(B(r.value.sendDate)),1)]),e("div",null,[t[70]||(t[70]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Garanti Durumu",-1)),e("div",mt,n(r.value.warrantyStatus?"Garanti Kapsamında":"Garanti Kapsamı Dışında"),1)])]),e("div",vt,[t[71]||(t[71]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Arıza Açıklaması",-1)),e("div",bt,n(r.value.description),1)]),r.value.repairNotes?(o(),i("div",pt,[t[72]||(t[72]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Onarım Notları",-1)),e("div",gt,n(r.value.repairNotes),1)])):k("",!0),r.value.returnNotes?(o(),i("div",yt,[t[73]||(t[73]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"İade Notları",-1)),e("div",ct,n(r.value.returnNotes),1)])):k("",!0),r.value.trackingNumber?(o(),i("div",ft,[t[74]||(t[74]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Kargo Takip Numarası",-1)),e("div",kt,n(r.value.trackingNumber),1)])):k("",!0),e("div",xt,[e("button",{type:"button",onClick:t[23]||(t[23]=l=>P.value=!1),class:"btn btn-primary"}," Kapat ")])])):k("",!0)])])):k("",!0)])),(o(),G(K,{to:"body"},[C.value?(o(),i("div",wt,[e("div",{onClick:t[29]||(t[29]=z(()=>{},["stop"])),class:"panel border-0 p-0 rounded-lg overflow-hidden w-full max-w-lg"},[e("div",St,[t[76]||(t[76]=e("h5",{class:"font-bold text-lg"},"Durum Güncelle",-1)),e("button",{type:"button",onClick:t[25]||(t[25]=l=>C.value=!1),class:"text-white-dark hover:text-dark"},t[75]||(t[75]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"w-6 h-6"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),r.value?(o(),i("div",ht,[e("form",{onSubmit:z(ee,["prevent"])},[e("div",Dt,[t[78]||(t[78]=e("label",{for:"newStatus"},"Yeni Durum",-1)),m(e("select",{id:"newStatus","onUpdate:modelValue":t[26]||(t[26]=l=>g.value.newStatus=l),class:"form-select",required:""},[t[77]||(t[77]=e("option",{value:"",disabled:""},"Durum Seçin",-1)),(o(!0),i(S,null,h(_.value,l=>(o(),i("option",{key:l,value:l},n(l),9,jt))),128))],512),[[f,g.value.newStatus]])]),e("div",Ct,[t[79]||(t[79]=e("label",{for:"statusNotes"},"Notlar",-1)),m(e("textarea",{id:"statusNotes","onUpdate:modelValue":t[27]||(t[27]=l=>g.value.notes=l),class:"form-textarea",rows:"3"},null,512),[[A,g.value.notes]])]),e("div",It,[e("button",{type:"button",onClick:t[28]||(t[28]=l=>C.value=!1),class:"btn btn-outline-danger ltr:mr-2 rtl:ml-2"}," İptal "),e("button",{type:"submit",class:"btn btn-primary",disabled:v.value},n(v.value?"Güncelleniyor...":"Güncelle"),9,Nt)])],32)])):k("",!0)])])):k("",!0)]))]))}},Gt=te(zt,[["__scopeId","data-v-48fe7d13"]]);export{Gt as default};
