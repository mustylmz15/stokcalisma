import{l as A,q as n,f as c,g as u,n as i,D as f,z as D,h,T as r}from"./index-CMVsiJL9.js";const p={async getLatestFaultyProducts(s=5){const d=A();try{let e=n(c(u,"faultyProducts"),i("sendDate","desc"),f(s));if(!d.isAdmin){const a=d.getAuthorizedDepot;a&&(e=n(c(u,"faultyProducts"),D("senderWarehouseId","==",a),i("sendDate","desc"),f(s)))}const l=await h(e),o=[];return l.forEach(a=>{const t=a.data();o.push({...t,id:a.id,sendDate:t.sendDate instanceof r?t.sendDate.toDate():t.sendDate,createdAt:t.createdAt instanceof r?t.createdAt.toDate():t.createdAt,updatedAt:t.updatedAt instanceof r?t.updatedAt.toDate():t.updatedAt,returnedAt:t.returnedAt instanceof r?t.returnedAt.toDate():t.returnedAt})}),o}catch(e){throw console.error("En son arızaya gönderilen ürünler alınırken hata:",e),e}}};export{p as default};
