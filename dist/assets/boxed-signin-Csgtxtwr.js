import{d as L,E as _,e as f,r as x,G as M,a as B,H as G,f as j,I as D,i,j as e,l as u,m as w,p as b,J as I,s as v,v as h,y as p,K as k,L as N,B as U,M as V,C as n,F as $,k as K,D as O,N as T,_ as A,O as F,P as H}from"./index-d431Q8yB.js";import{_ as J,a as R,b as Y,c as q,d as Q}from"./polygon-object-B-hpiszJ.js";const W={class:"relative flex min-h-screen items-center justify-center bg-[url(/assets/images/auth/map.png)] bg-cover bg-center bg-no-repeat px-6 py-10 dark:bg-[#060818] sm:px-16"},X={class:"relative w-full max-w-[870px] rounded-md bg-[linear-gradient(45deg,#fff9f9_0%,rgba(255,255,255,0)_25%,rgba(255,255,255,0)_75%,_#fff9f9_100%)] p-2 dark:bg-[linear-gradient(52.22deg,#0E1726_0%,rgba(14,23,38,0)_18.66%,rgba(14,23,38,0)_51.04%,rgba(14,23,38,0)_80.07%,#0E1726_100%)]"},Z={class:"relative flex flex-col justify-center rounded-md bg-white/60 backdrop-blur-lg dark:bg-black/50 px-6 lg:min-h-[758px] py-20"},ee={class:"absolute top-6 end-6"},se={class:"dropdown"},te={type:"button",class:"flex items-center gap-2.5 rounded-lg border border-white-dark/30 bg-white px-2 py-1.5 text-white-dark hover:border-primary hover:text-primary dark:bg-black"},ae=["src"],le={class:"text-base font-bold uppercase"},re={class:"shrink-0"},oe={class:"!px-2 text-dark dark:text-white-dark grid grid-cols-2 gap-2 font-semibold dark:text-white-light/90 w-[280px]"},ie=["onClick"],ne=["src"],de={class:"ltr:ml-3 rtl:mr-3"},ue={class:"mx-auto w-full max-w-[440px]"},pe={class:"relative text-white-dark"},me={class:"absolute start-4 top-1/2 -translate-y-1/2"},ce={key:0,class:"text-red-500"},ge={class:"relative text-white-dark"},fe={class:"absolute start-4 top-1/2 -translate-y-1/2"},be={key:0,class:"text-red-500"},ve={class:"flex cursor-pointer items-center"},ke=L({__name:"boxed-signin",setup(_e){const t=_({email:"",password:""});f(()=>t.email),f(()=>t.password);const d=x(!1),a=x({email:"",password:""}),y=V(),S=M();B(()=>{const l=localStorage.getItem("credentials");if(l){const{savedEmail:s,savedPassword:g}=JSON.parse(l);t.email=s,t.password=g,d.value=!0}});const C=()=>{setTimeout(()=>{a.value={email:"",password:""}},5e3)},E=async()=>{a.value={email:"",password:""};try{if(!t.email.trim()){a.value.email="Email alanı zorunludur";return}if(!/^\S+@\S+\.\S+$/.test(t.email)){a.value.email="Geçerli bir email adresi giriniz";return}if(!t.password.trim()){a.value.password="Şifre alanı zorunludur";return}if(t.password.length<6){a.value.password="Şifre en az 6 karakter olmalıdır";return}await S.login(t.email.trim(),t.password),d.value?localStorage.setItem("credentials",JSON.stringify({savedEmail:t.email,savedPassword:t.password})):localStorage.removeItem("credentials"),y.push("/")}catch(l){console.error("Login error:",l);const s=(l==null?void 0:l.message)||"Giriş işlemi başarısız";s.includes("Kullanıcı bulunamadı")||s.includes("Hatalı şifre")?a.value.password="E-posta veya şifre hatalı":s.includes("devre dışı")?a.value.email="Bu hesap devre dışı bırakılmış":a.value.email=s,C()}};G({title:"Login Boxed"});const m=j(),c=_(D()),z=l=>{c.locale=l.code,H.toggleLanguage(l)},P=f(()=>`/assets/images/flags/${c.locale.toUpperCase()}.svg`);return(l,s)=>{const g=U("Popper");return n(),i("div",null,[s[12]||(s[12]=e("div",{class:"absolute inset-0"},[e("img",{src:J,alt:"image",class:"h-full w-full object-cover"})],-1)),e("div",W,[s[8]||(s[8]=e("img",{src:R,alt:"image",class:"absolute left-0 top-1/2 h-full max-h-[893px] -translate-y-1/2"},null,-1)),s[9]||(s[9]=e("img",{src:Y,alt:"image",class:"absolute left-24 top-0 h-40 md:left-[30%]"},null,-1)),s[10]||(s[10]=e("img",{src:q,alt:"image",class:"absolute right-0 top-0 h-[300px]"},null,-1)),s[11]||(s[11]=e("img",{src:Q,alt:"image",class:"absolute bottom-0 end-[28%]"},null,-1)),e("div",X,[e("div",Z,[e("div",ee,[e("div",se,[u(g,{placement:b(m).rtlClass==="rtl"?"bottom-start":"bottom-end",offsetDistance:"8"},{content:w(({close:r})=>[e("ul",oe,[(n(!0),i($,null,K(b(m).languageList,o=>(n(),i("li",{key:o.code},[e("button",{type:"button",class:O(["w-full hover:text-primary",{"bg-primary/10 text-primary":c.locale===o.code}]),onClick:xe=>(z(o),r())},[e("img",{class:"w-5 h-5 object-cover rounded-full",src:`/assets/images/flags/${o.code.toUpperCase()}.svg`,alt:""},null,8,ne),e("span",de,p(o.name),1)],10,ie)]))),128))])]),default:w(()=>[e("button",te,[e("div",null,[e("img",{src:P.value,alt:"image",class:"h-5 w-5 rounded-full object-cover"},null,8,ae)]),e("div",le,p(b(m).locale),1),e("span",re,[u(T)])])]),_:1},8,["placement"])])]),e("div",ue,[s[7]||(s[7]=e("div",{class:"mb-10"},[e("h1",{class:"text-3xl font-extrabold uppercase !leading-snug text-primary md:text-4xl"},"UGES STOK TAKİP"),e("p",{class:"text-base font-bold leading-normal text-white-dark"},"Lütfen Kullanıcı adı ve Şifrenizi giriniz")],-1)),e("form",{class:"space-y-5 dark:text-white",onSubmit:I(E,["prevent"])},[e("div",null,[s[3]||(s[3]=e("label",{for:"Email"},"E-Posta",-1)),e("div",pe,[v(e("input",{id:"Email",type:"email","onUpdate:modelValue":s[0]||(s[0]=r=>t.email=r),placeholder:"E-Postanızı Giriniz",class:"form-input ps-10 placeholder:text-white-dark"},null,512),[[h,t.email]]),e("span",me,[u(A,{fill:!0})]),a.value.email?(n(),i("p",ce,p(a.value.email),1)):k("",!0)])]),e("div",null,[s[4]||(s[4]=e("label",{for:"Password"},"Şifre",-1)),e("div",ge,[v(e("input",{id:"Password",type:"password","onUpdate:modelValue":s[1]||(s[1]=r=>t.password=r),placeholder:"Şifrenizi Giriniz",class:"form-input ps-10 placeholder:text-white-dark"},null,512),[[h,t.password]]),e("span",fe,[u(F,{fill:!0})]),a.value.password?(n(),i("p",be,p(a.value.password),1)):k("",!0)])]),e("div",null,[e("label",ve,[v(e("input",{type:"checkbox","onUpdate:modelValue":s[2]||(s[2]=r=>d.value=r),class:"form-checkbox bg-white dark:bg-black"},null,512),[[N,d.value]]),s[5]||(s[5]=e("span",{class:"text-white-dark"},"Beni Hatırla",-1))])]),s[6]||(s[6]=e("button",{type:"submit",class:"btn btn-gradient !mt-6 w-full border-0 uppercase shadow-[0_10px_20px_-10px_rgba(67,97,238,0.44)]"}," Giriş Yap ",-1))],32)])])])])])}}});export{ke as default};
