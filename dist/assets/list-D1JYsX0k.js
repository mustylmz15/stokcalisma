import{d as se,ac as Ue,r as _,a as _e,e as Q,w as J,C as c,i as d,j as i,D as m,l as L,F as z,k as K,J as X,s as U,L as Je,K as x,p as xe,ad as Ee,q as W,y as b,z as Fe,x as Le,v as re,a3 as $e,c as Ge,A as Ke,H as We,m as O,B as Ye,aa as Ze}from"./index-d431Q8yB.js";import{I as we}from"./icon-trash-lines-ug_c1Xl1.js";import{I as Qe}from"./icon-plus-GW1fWUBD.js";import{I as Xe}from"./icon-eye-Yg9Fne8W.js";const et={class:"bh-filter-menu bh-absolute bh-z-[1] bh-bg-white bh-shadow-md bh-rounded-md bh-top-full bh-right-0 bh-w-32 bh-mt-1"},tt=se({__name:"column-filter",props:["column","columnFilterLang"],emits:["close","filterChange"],setup(S,{emit:C}){const a=S;Ge(()=>{document.removeEventListener("click",k)}),_e(()=>{document.addEventListener("click",k)});const g=C,k=()=>{g("close")},y=e=>{a.column.condition=e,e===""&&(a.column.value=""),g("filterChange",a.column)};return(e,l)=>{var v,h,F,B,ee,N,te,A,M,E,R,P,le,H,Y,V,oe,D,ne;return c(),d("div",et,[i("div",{class:"bh-text-[13px] bh-font-normal bh-rounded bh-overflow-hidden",onClick:X(k,["stop"])},[i("button",{type:"button",class:m({active:a.column.condition===""}),onClick:l[0]||(l[0]=p=>y(""))},b((v=a.columnFilterLang&&a.columnFilterLang.no_filter)!=null?v:"No filter"),3),a.column.type==="string"?(c(),d(z,{key:0},[i("button",{type:"button",class:m({active:a.column.condition==="contain"}),onClick:l[1]||(l[1]=p=>y("contain"))},b((h=a.columnFilterLang&&a.columnFilterLang.contain)!=null?h:"Contain"),3),i("button",{type:"button",class:m({active:a.column.condition==="not_contain"}),onClick:l[2]||(l[2]=p=>y("not_contain"))},b((F=a.columnFilterLang&&a.columnFilterLang.not_contain)!=null?F:"Not contain"),3),i("button",{type:"button",class:m({active:a.column.condition==="equal"}),onClick:l[3]||(l[3]=p=>y("equal"))},b((B=a.columnFilterLang&&a.columnFilterLang.equal)!=null?B:"Equal"),3),i("button",{type:"button",class:m({active:a.column.condition==="not_equal"}),onClick:l[4]||(l[4]=p=>y("not_equal"))},b((ee=a.columnFilterLang&&a.columnFilterLang.not_equal)!=null?ee:"Not equal"),3),i("button",{type:"button",class:m({active:a.column.condition==="start_with"}),onClick:l[5]||(l[5]=p=>y("start_with"))},b((N=a.columnFilterLang&&a.columnFilterLang.start_with)!=null?N:"Starts with"),3),i("button",{type:"button",class:m({active:a.column.condition==="end_with"}),onClick:l[6]||(l[6]=p=>y("end_with"))},b((te=a.columnFilterLang&&a.columnFilterLang.end_with)!=null?te:"Ends with"),3)],64)):a.column.type==="number"?(c(),d(z,{key:1},[i("button",{type:"button",class:m({active:a.column.condition==="equal"}),onClick:l[7]||(l[7]=p=>y("equal"))},b((A=a.columnFilterLang&&a.columnFilterLang.equal)!=null?A:"Equal"),3),i("button",{type:"button",class:m({active:a.column.condition==="not_equal"}),onClick:l[8]||(l[8]=p=>y("not_equal"))},b((M=a.columnFilterLang&&a.columnFilterLang.not_equal)!=null?M:"Not equal"),3),i("button",{type:"button",class:m({active:a.column.condition==="greater_than"}),onClick:l[9]||(l[9]=p=>y("greater_than"))},b((E=a.columnFilterLang&&a.columnFilterLang.greater_than)!=null?E:"Greater than"),3),i("button",{type:"button",class:m({active:a.column.condition==="greater_than_equal"}),onClick:l[10]||(l[10]=p=>y("greater_than_equal"))},b((R=a.columnFilterLang&&a.columnFilterLang.greater_than_equal)!=null?R:"Greater than or equal"),3),i("button",{type:"button",class:m({active:a.column.condition==="less_than"}),onClick:l[11]||(l[11]=p=>y("less_than"))},b((P=a.columnFilterLang&&a.columnFilterLang.less_than)!=null?P:"Less than"),3),i("button",{type:"button",class:m({active:a.column.condition==="less_than_equal"}),onClick:l[12]||(l[12]=p=>y("less_than_equal"))},b((le=a.columnFilterLang&&a.columnFilterLang.less_than_equal)!=null?le:"Less than or equal"),3)],64)):a.column.type==="date"?(c(),d(z,{key:2},[i("button",{type:"button",class:m({active:a.column.condition==="equal"}),onClick:l[13]||(l[13]=p=>y("equal"))},b((H=a.columnFilterLang&&a.columnFilterLang.equal)!=null?H:"Equal"),3),i("button",{type:"button",class:m({active:a.column.condition==="not_equal"}),onClick:l[14]||(l[14]=p=>y("not_equal"))},b((Y=a.columnFilterLang&&a.columnFilterLang.not_equal)!=null?Y:"Not equal"),3),i("button",{type:"button",class:m({active:a.column.condition==="greater_than"}),onClick:l[15]||(l[15]=p=>y("greater_than"))},b((V=a.columnFilterLang&&a.columnFilterLang.greater_than)!=null?V:"Greater than"),3),i("button",{type:"button",class:m({active:a.column.condition==="less_than"}),onClick:l[16]||(l[16]=p=>y("less_than"))},b((oe=a.columnFilterLang&&a.columnFilterLang.less_than)!=null?oe:"Less than"),3)],64)):x("",!0),i("button",{type:"button",class:m({active:a.column.condition==="is_null"}),onClick:l[17]||(l[17]=p=>y("is_null"))},b((D=a.columnFilterLang&&a.columnFilterLang.is_null)!=null?D:"Is null"),3),i("button",{type:"button",class:m({active:a.column.condition==="is_not_null"}),onClick:l[18]||(l[18]=p=>y("is_not_null"))},b((ne=a.columnFilterLang&&a.columnFilterLang.is_not_null)!=null?ne:"Not null"),3)])])}}}),ue=(S,C)=>{const a=S.__vccOpts||S;for(const[g,k]of C)a[g]=k;return a},lt={},ot={version:"1.1",viewBox:"0 0 17 12",xmlns:"http://www.w3.org/2000/svg"};function nt(S,C){return c(),d("svg",ot,C[0]||(C[0]=[i("g",{fill:"none","fill-rule":"evenodd"},[i("g",{transform:"translate(-9 -11)",fill:"currentColor","fill-rule":"nonzero"},[i("path",{d:"m25.576 11.414c0.56558 0.55188 0.56558 1.4439 0 1.9961l-9.404 9.176c-0.28213 0.27529-0.65247 0.41385-1.0228 0.41385-0.37034 0-0.74068-0.13855-1.0228-0.41385l-4.7019-4.588c-0.56584-0.55188-0.56584-1.4442 0-1.9961 0.56558-0.55214 1.4798-0.55214 2.0456 0l3.679 3.5899 8.3812-8.1779c0.56558-0.55214 1.4798-0.55214 2.0456 0z"})])],-1)]))}const Se=ue(lt,[["render",nt]]),at={},it={viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor","stroke-width":"3",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"css-i6dzq1"};function rt(S,C){return c(),d("svg",it,C[0]||(C[0]=[i("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1)]))}const st=ue(at,[["render",rt]]),ut={},ct={viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor","stroke-width":"1.5",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"css-i6dzq1"};function dt(S,C){return c(),d("svg",ct,C[0]||(C[0]=[i("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},null,-1)]))}const vt=ue(ut,[["render",dt]]),ht={key:"hdrrow"},mt={class:"bh-checkbox"},pt=["onClick"],gt={width:"16",height:"16",viewBox:"0 0 14 14",fill:"none"},ft={key:0,class:"bh-filter bh-relative"},bt=["onUpdate:modelValue"],kt=["onUpdate:modelValue"],yt=["onUpdate:modelValue"],wt=["onUpdate:modelValue"],Ct=["onClick"],Ce=se({__name:"column-header",props:["all","currentSortColumn","currentSortDirection","isOpenFilter","isFooter","checkAll","columnFilterLang"],emits:["selectAll","sortChange","filterChange","toggleFilterMenu"],setup(S,{emit:C}){const a=_(null),g=S,k=C;return J(()=>g.checkAll,()=>{a.value&&(a.value.indeterminate=g.checkAll!==0?!g.checkAll:!1,a.value.checked=g.checkAll)}),(y,e)=>(c(),d("tr",ht,[g.all.hasCheckbox?(c(),d("th",{key:"chkall",class:m(["bh-w-px",{"bh-sticky bh-bg-blue-light bh-z-[1]":g.all.stickyHeader||g.all.stickyFirstColumn,"bh-top-0":g.all.stickyHeader,"bh-left-0":g.all.stickyFirstColumn}])},[i("div",mt,[i("input",{ref_key:"selectedAll",ref:a,type:"checkbox",onClick:e[0]||(e[0]=X(l=>k("selectAll",l.target.checked),["stop"]))},null,512),i("div",null,[L(Se,{class:"check"}),L(st,{class:"intermediate"})])])],2)):x("",!0),(c(!0),d(z,null,K(g.all.columns,(l,v)=>(c(),d(z,null,[l.hide?x("",!0):(c(),d("th",{key:l.field,class:m(["bh-select-none bh-z-[1]",[g.all.sortable&&l.sort?"bh-cursor-pointer":"",v===0&&g.all.stickyFirstColumn?"bh-sticky bh-left-0 bh-bg-blue-light":"",g.all.hasCheckbox&&v===0&&g.all.stickyFirstColumn?"bh-left-[52px]":""]]),style:Fe({width:l.width,"min-width":l.minWidth,"max-width":l.maxWidth})},[i("div",{class:m(["bh-flex bh-items-center",[l.headerClass?l.headerClass:""]]),onClick:h=>g.all.sortable&&l.sort&&k("sortChange",l.field)},[W(b(l.title)+" ",1),g.all.sortable&&l.sort?(c(),d("span",{key:0,class:m(["bh-ml-3 bh-sort bh-flex bh-items-center",[g.currentSortColumn,g.currentSortDirection]])},[(c(),d("svg",gt,[i("polygon",{points:"3.11,6.25 10.89,6.25 7,1.75 ",fill:"currentColor",class:m(["bh-text-black/20",[S.currentSortColumn===l.field&&S.currentSortDirection==="asc"?"!bh-text-primary":""]])},null,2),i("polygon",{points:"7,12.25 10.89,7.75 3.11,7.75 ",fill:"currentColor",class:m(["bh-text-black/20",[S.currentSortColumn===l.field&&S.currentSortDirection==="desc"?"!bh-text-primary":""]])},null,2)]))],2)):x("",!0)],10,pt),g.all.columnFilter&&!g.isFooter?(c(),d(z,{key:0},[l.filter?(c(),d("div",ft,[l.type==="string"?U((c(),d("input",{key:0,"onUpdate:modelValue":h=>l.value=h,type:"text",class:"bh-form-control",onKeyup:e[1]||(e[1]=h=>k("filterChange"))},null,40,bt)),[[re,l.value,void 0,{trim:!0}]]):x("",!0),l.type==="number"?U((c(),d("input",{key:1,"onUpdate:modelValue":h=>l.value=h,type:"number",class:"bh-form-control",onKeyup:e[2]||(e[2]=h=>k("filterChange"))},null,40,kt)),[[re,l.value,void 0,{number:!0,trim:!0}]]):l.type==="date"?U((c(),d("input",{key:2,"onUpdate:modelValue":h=>l.value=h,type:"date",class:"bh-form-control",onChange:e[3]||(e[3]=h=>k("filterChange"))},null,40,yt)),[[re,l.value]]):l.type==="bool"?U((c(),d("select",{key:3,"onUpdate:modelValue":h=>l.value=h,class:"bh-form-control",onChange:e[4]||(e[4]=h=>k("filterChange")),onClick:e[5]||(e[5]=h=>g.isOpenFilter=null)},e[8]||(e[8]=[i("option",{value:void 0},"All",-1),i("option",{value:!0},"True",-1),i("option",{value:!1},"False",-1)]),40,wt)),[[Le,l.value]]):x("",!0),l.type!=="bool"?(c(),d("button",{key:4,type:"button",onClick:X(h=>k("toggleFilterMenu",l),["stop"])},[L(vt,{class:"bh-w-4"})],8,Ct)):x("",!0),U(L(tt,{column:l,type:l.type,columnFilterLang:g.columnFilterLang,onClose:e[6]||(e[6]=h=>k("toggleFilterMenu",null)),onFilterChange:e[7]||(e[7]=h=>k("filterChange"))},null,8,["column","type","columnFilterLang"]),[[$e,g.isOpenFilter===l.field]])])):x("",!0)],64)):x("",!0)],6))],64))),256))]))}}),_t={},xt={width:"84",height:"84",viewBox:"0 0 24 24",class:"bh-loader bh-text-primary"};function Ft(S,C){return c(),d("svg",xt,C[0]||(C[0]=[Ke('<circle cx="18" cy="12" r="0" fill="currentColor"><animate attributeName="r" begin=".67" calcMode="spline" dur="1.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" repeatCount="indefinite" values="0;2;0;0"></animate></circle><circle cx="12" cy="12" r="0" fill="currentColor"><animate attributeName="r" begin=".33" calcMode="spline" dur="1.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" repeatCount="indefinite" values="0;2;0;0"></animate></circle><circle cx="6" cy="12" r="0" fill="currentColor"><animate attributeName="r" begin="0" calcMode="spline" dur="1.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" repeatCount="indefinite" values="0;2;0;0"></animate></circle>',3)]))}const Lt=ue(_t,[["render",Ft]]),St={class:"bh-datatable bh-antialiased bh-relative bh-text-black bh-text-sm bh-font-normal"},qt=["onClick"],Mt={class:"bh-checkbox"},At=["value"],Bt=["innerHTML"],zt={key:1},Dt=["colspan"],Nt=["colspan"],Rt={key:0,class:"bh-absolute bh-inset-0 bh-bg-blue-light/50 bh-grid bh-place-content-center"},Pt={class:"bh-flex bh-items-center bh-flex-wrap bh-flex-col sm:bh-flex-row bh-gap-4"},Ht={class:"bh-pagination-info bh-flex bh-items-center"},Tt={class:"bh-mr-2"},Ot=["value"],Vt={class:"bh-pagination-number sm:bh-ml-auto bh-inline-flex bh-items-center bh-space-x-1"},jt=["innerHTML"],It={key:1,"aria-hidden":"true",width:"14",height:"14",viewBox:"0 0 16 16"},Ut=["innerHTML"],Jt={key:1,"aria-hidden":"true",width:"14",height:"14",viewBox:"0 0 16 16"},Et=["onClick"],$t=["innerHTML"],Gt={key:1,"aria-hidden":"true",width:"14",height:"14",viewBox:"0 0 16 16"},Kt=["innerHTML"],Wt={key:1,"aria-hidden":"true",width:"14",height:"14",viewBox:"0 0 16 16"},Yt=se({__name:"custom-table",props:{loading:{type:Boolean,default:!1},isServerMode:{type:Boolean,default:!1},skin:{default:"bh-table-striped bh-table-hover"},totalRows:{default:0},rows:{default:()=>[]},columns:{default:()=>[]},hasCheckbox:{type:Boolean,default:!1},search:{default:""},columnChooser:{type:Boolean,default:!1},page:{default:1},pageSize:{default:10},pageSizeOptions:{default:()=>[10,20,30,50,100]},showPageSize:{type:Boolean,default:!0},rowClass:{default:[]},cellClass:{default:[]},sortable:{type:Boolean,default:!1},sortColumn:{default:"id"},sortDirection:{default:"asc"},columnFilter:{type:Boolean,default:!1},columnFilterLang:{default:null},pagination:{type:Boolean,default:!0},showNumbers:{type:Boolean,default:!0},showNumbersCount:{default:5},showFirstPage:{type:Boolean,default:!0},showLastPage:{type:Boolean,default:!0},firstArrow:{default:""},lastArrow:{default:""},nextArrow:{default:""},previousArrow:{default:""},paginationInfo:{default:"Showing {0} to {1} of {2} entries"},noDataContent:{default:"No data available"},stickyHeader:{type:Boolean,default:!1},height:{default:"500px"},stickyFirstColumn:{type:Boolean,default:!1},cloneHeaderInFooter:{type:Boolean,default:!1},selectRowOnClick:{type:Boolean,default:!1}},emits:["change","sortChange","searchChange","pageChange","pageSizeChange","rowSelect","filterChange","rowClick","rowDBClick"],setup(S,{expose:C,emit:a}){var g,k;const y=Ue(),e=S;for(const t of e.columns||[]){const n=((g=t.type)==null?void 0:g.toLowerCase())||"string";t.type=n,t.isUnique=t.isUnique!==void 0?t.isUnique:!1,t.hide=t.hide!==void 0?t.hide:!1,t.filter=t.filter!==void 0?t.filter:!0,t.search=t.search!==void 0?t.search:!0,t.sort=t.sort!==void 0?t.sort:!0,t.html=t.html!==void 0?t.html:!1,t.condition=!n||n==="string"?"contain":"equal"}const l=_([]),v=_(e.page),h=_(e.pagination?e.pageSize:(k=e.rows)==null?void 0:k.length),F=e.pageSize,B=_(e.sortColumn),ee=e.sortColumn,N=_(e.sortDirection),te=e.sortDirection,A=_(e.totalRows),M=_([]),E=_(null),R=_(e.loading),P=_(e.search),le=JSON.parse(JSON.stringify(e.columns)),H=_(null),Y=_(null);let V=_(0);const oe=_(230);_e(()=>{I()});const D=a;C({reset(){Re()},getSelectedRows(){return Pe()},getColumnFilters(){return He()},clearSelectedRows(){return Te()},selectRow(t){be(t)},unselectRow(t){ke(t)},isRowSelected(t){return ie(t)},getFilteredRows(){return he()}});const ne=(t,...n)=>t.replace(/{(\d+)}/g,(s,r)=>typeof n[r]<"u"?n[r]:s),p=Q(()=>{const t=e.columns.find(n=>n.isUnique);return(t==null?void 0:t.field)||null}),j=Q(()=>{const t=h.value<1?1:Math.ceil(A.value/h.value);return Math.max(t||0,1)}),de=Q(()=>(v.value-1)*h.value+1),ve=Q(()=>{const t=v.value*h.value;return A.value>=t?t:A.value}),qe=Q(()=>{let t,n;return typeof e.showNumbersCount<"u"&&e.showNumbersCount<j.value?(t=Math.max(v.value-Math.floor(e.showNumbersCount/2),1),n=t+e.showNumbersCount-1,n>j.value&&(n=j.value,t=n-e.showNumbersCount+1)):(t=1,n=j.value),Array.from(Array(n+1-t).keys()).map(s=>t+s)}),he=()=>{var t,n,s;let r=e.rows||[];if(!e.isServerMode){if((t=e.columns)==null||t.forEach(o=>{o.filter&&(o.value!==void 0&&o.value!==null&&o.value!==""||o.condition==="is_null"||o.condition=="is_not_null")&&(o.type==="string"?(o.value&&!o.condition&&(o.condition="contain"),o.condition==="contain"?r=r.filter(u=>{var w;return(w=f(u,o.field))==null?void 0:w.toString().toLowerCase().includes(o.value.toLowerCase())}):o.condition==="not_contain"?r=r.filter(u=>{var w;return!((w=f(u,o.field))!=null&&w.toString().toLowerCase().includes(o.value.toLowerCase()))}):o.condition==="equal"?r=r.filter(u=>{var w;return((w=f(u,o.field))==null?void 0:w.toString().toLowerCase())===o.value.toLowerCase()}):o.condition==="not_equal"?r=r.filter(u=>{var w;return((w=f(u,o.field))==null?void 0:w.toString().toLowerCase())!==o.value.toLowerCase()}):o.condition=="start_with"?r=r.filter(u=>{var w;return((w=f(u,o.field))==null?void 0:w.toString().toLowerCase().indexOf(o.value.toLowerCase()))===0}):o.condition=="end_with"&&(r=r.filter(u=>{var w;return((w=f(u,o.field))==null?void 0:w.toString().toLowerCase().substr(o.value.length*-1))===o.value.toLowerCase()}))):o.type==="number"?(o.value&&!o.condition&&(o.condition="equal"),o.condition==="equal"?r=r.filter(u=>f(u,o.field)&&parseFloat(f(u,o.field))===parseFloat(o.value)):o.condition==="not_equal"?r=r.filter(u=>f(u,o.field)&&parseFloat(f(u,o.field))!==parseFloat(o.value)):o.condition==="greater_than"?r=r.filter(u=>f(u,o.field)&&parseFloat(f(u,o.field))>parseFloat(o.value)):o.condition==="greater_than_equal"?r=r.filter(u=>f(u,o.field)&&parseFloat(f(u,o.field))>=parseFloat(o.value)):o.condition==="less_than"?r=r.filter(u=>f(u,o.field)&&parseFloat(f(u,o.field))<parseFloat(o.value)):o.condition==="less_than_equal"&&(r=r.filter(u=>f(u,o.field)&&parseFloat(f(u,o.field))<=parseFloat(o.value)))):o.type==="date"?(o.value&&!o.condition&&(o.condition="equal"),o.condition==="equal"?r=r.filter(u=>f(u,o.field)&&ae(f(u,o.field))===o.value):o.condition==="not_equal"?r=r.filter(u=>f(u,o.field)&&ae(f(u,o.field))!==o.value):o.condition==="greater_than"?r=r.filter(u=>f(u,o.field)&&ae(f(u,o.field))>o.value):o.condition==="less_than"&&(r=r.filter(u=>f(u,o.field)&&ae(f(u,o.field))<o.value))):o.type==="bool"&&(r=r.filter(u=>f(u,o.field)===o.value)),o.condition==="is_null"?(r=r.filter(u=>f(u,o.field)==null||f(u,o.field)==""),o.value=""):o.condition==="is_not_null"&&(o.value="",r=r.filter(u=>f(u,o.field))))}),P.value&&(r==null?void 0:r.length)){let o=[];const u=(e.columns||[]).filter(w=>w.search&&!w.hide).map(w=>w.field);for(var q=0;q<(r==null?void 0:r.length);q++)for(var G=0;G<u.length;G++)if((n=f(r[q],u[G]))!=null&&n.toString().toLowerCase().includes(P.value.toLowerCase())){o.push(r[q]);break}r=o}var Oe=new Intl.Collator(void 0,{numeric:((s=e.columns.find(o=>o.field==B.value))==null?void 0:s.type)==="number",sensitivity:"base"});const Ve=N.value==="desc"?-1:1;r.sort((o,u)=>{var w,ye;const je=(w=B.value)==null?void 0:w.split(".").reduce((Z,ce)=>Z==null?void 0:Z[ce],o),Ie=(ye=B.value)==null?void 0:ye.split(".").reduce((Z,ce)=>Z==null?void 0:Z[ce],u);return Oe.compare(je,Ie)*Ve})}return r},I=()=>{let t=[],n=he();e.isServerMode?(A.value=e.totalRows||0,t=n):(A.value=(n==null?void 0:n.length)||0,t=n.slice(de.value-1,ve.value)),l.value=t||[]};J(()=>e.loading,()=>{R.value=e.loading});const me=t=>{t?H.value===t.field?H.value=null:H.value=t.field:H.value=null},Me=()=>{if(v.value==1)return!1;v.value--},Ae=t=>{v.value=t},Be=()=>{if(v.value>=j.value)return!1;v.value++};J(()=>v.value,()=>{T(!1),e.isServerMode?$("page"):(I(),D("pageChange",v.value))}),J(()=>e.rows,()=>{e.isServerMode||(v.value=1),T(!1),I()}),J(()=>h.value,()=>{T(!1),e.isServerMode?v.value===1?$("pagesize",!0):v.value=1:(v.value=1,I(),D("pageSizeChange",h.value))});const pe=t=>{let n="asc";t==B.value&&N.value==="asc"&&(n="desc");let s=(v.value-1)*h.value,r=h.value;B.value=t,N.value=n,T(!1),I(),e.isServerMode?$("sort"):D("sortChange",{offset:s,limit:r,field:t,direction:n})},ge=t=>{E.value=t.length&&l.value.length&&t.length===l.value.length;const n=l.value.filter((s,r)=>M.value.includes(p.value?s[p.value]:r));D("rowSelect",n)};J(()=>M.value,ge);const T=t=>{t?M.value=l.value.map((n,s)=>p.value?n[p.value]:s):M.value=[]},fe=()=>{T(!1),e.isServerMode?v.value===1?$("filter",!0):v.value=1:(v.value=1,I(),D("filterChange",e.columns))},ze=()=>{T(!1),e.isServerMode?v.value===1?$("search",!0):v.value=1:(v.value=1,I(),D("searchChange",P.value))};J(()=>e.search,()=>{P.value=e.search,ze()});const f=(t,n)=>n==null?void 0:n.split(".").reduce((s,r)=>s==null?void 0:s[r],t),ae=t=>{try{if(!t)return"";const n=new Date(t),s=n.getDate(),r=n.getMonth()+1;return n.getFullYear()+"-"+(r>9?r:"0"+r)+"-"+(s>9?s:"0"+s)}catch{}return""},De=(t,n)=>{V.value++,V.value===1?Y.value=setTimeout(()=>{V.value=0,e.selectRowOnClick&&(ie(n)?ke(n):be(n),ge(M.value)),D("rowClick",t)},oe.value):V.value===2&&(clearTimeout(Y.value),V.value=0,D("rowDBClick",t))},$=(t,n=!1)=>{if(e.isServerMode){Ne();const s={current_page:n?1:v.value,pagesize:h.value,offset:(v.value-1)*h.value,sort_column:B.value,sort_direction:N.value,search:P.value,column_filters:e.columns,change_type:t};D("change",s)}},Ne=()=>{for(let t=0;t<e.columns.length;t++){let n=e.columns[t];n.filter&&(n.value!==void 0&&n.value!==null&&n.value!==""||n.condition==="is_null"||n.condition==="is_not_null")&&(n.type==="string"&&n.value&&!n.condition&&(n.condition="contain"),n.type==="number"&&n.value&&!n.condition&&(n.condition="equal"),n.type==="date"&&n.value&&!n.condition&&(n.condition="equal"))}},Re=()=>{T(!1);for(let t=0;t<e.columns.length;t++)e.columns[t]=le[t];P.value="",h.value=F,B.value=ee,N.value=te,e.isServerMode?v.value===1?$("reset",!0):v.value=1:(v.value=1,I())},Pe=()=>l.value.filter((t,n)=>M.value.includes(p.value?t[p.value]:n)),He=()=>e.columns,Te=()=>{M.value=[]},be=t=>{if(!ie(t)){const n=l.value.find((s,r)=>r===t);M.value.push(p.value?n[p.value]:t)}},ke=t=>{if(ie(t)){const n=l.value.find((s,r)=>r===t);M.value=M.value.filter(s=>s!==(p.value?n[p.value]:t))}},ie=t=>{const n=l.value.find((s,r)=>r===t);return n?M.value.includes(p.value?n[p.value]:t):!1};return(t,n)=>(c(),d("div",St,[i("div",{class:m(["bh-table-responsive",{"bh-min-h-[300px]":R.value}]),style:Fe({height:e.stickyHeader&&e.height})},[i("table",{class:m([e.skin])},[i("thead",{class:m({"bh-sticky bh-top-0 bh-z-10":e.stickyHeader})},[L(Ce,{all:e,currentSortColumn:B.value,currentSortDirection:N.value,isOpenFilter:H.value,checkAll:E.value,columnFilterLang:e.columnFilterLang,onSelectAll:T,onSortChange:pe,onFilterChange:fe,onToggleFilterMenu:me},null,8,["currentSortColumn","currentSortDirection","isOpenFilter","checkAll","columnFilterLang"])],2),i("tbody",null,[A.value?(c(!0),d(z,{key:0},K(l.value,(s,r)=>(c(),d("tr",{key:s[p.value]?s[p.value]:r,class:m([typeof e.rowClass=="function"?t.rowClass(s):e.rowClass,e.selectRowOnClick?"bh-cursor-pointer":""]),onClick:X(q=>De(s,r),["prevent"])},[e.hasCheckbox?(c(),d("td",{key:0,class:m({"bh-sticky bh-left-0 bh-bg-blue-light":e.stickyFirstColumn})},[i("div",Mt,[U(i("input",{"onUpdate:modelValue":n[0]||(n[0]=q=>M.value=q),type:"checkbox",value:s[p.value]?s[p.value]:r,onClick:n[1]||(n[1]=X(()=>{},["stop"]))},null,8,At),[[Je,M.value]]),i("div",null,[L(Se,{class:"check"})])])],2)):x("",!0),(c(!0),d(z,null,K(e.columns,(q,G)=>(c(),d(z,null,[q.hide?x("",!0):(c(),d("td",{key:q.field,class:m([typeof e.cellClass=="function"?t.cellClass(s):e.cellClass,G===0&&e.stickyFirstColumn?"bh-sticky bh-left-0 bh-bg-blue-light":"",e.hasCheckbox&&G===0&&e.stickyFirstColumn?"bh-left-[52px]":"",q.cellClass?q.cellClass:""])},[xe(y)[q.field]?Ee(t.$slots,q.field,{key:0,value:s}):q.cellRenderer?(c(),d("div",{key:1,innerHTML:q.cellRenderer(s)},null,8,Bt)):(c(),d(z,{key:2},[W(b(f(s,q.field)),1)],64))],2))],64))),256))],10,qt))),128)):x("",!0),!A.value&&!R.value?(c(),d("tr",zt,[i("td",{colspan:e.columns.length+1},b(e.noDataContent),9,Dt)])):x("",!0),!A.value&&R.value?(c(!0),d(z,{key:2},K(e.pageSize,s=>(c(),d("tr",{key:s,class:"!bh-bg-white bh-h-11 !bh-border-transparent"},[i("td",{colspan:e.columns.length+1,class:"!bh-p-0 !bh-border-transparent"},n[5]||(n[5]=[i("div",{class:"bh-skeleton-box bh-h-8"},null,-1)]),8,Nt)]))),128)):x("",!0)]),e.cloneHeaderInFooter?(c(),d("tfoot",{key:0,class:m({"bh-sticky bh-bottom-0":e.stickyHeader})},[L(Ce,{all:e,currentSortColumn:B.value,currentSortDirection:N.value,isOpenFilter:H.value,isFooter:!0,checkAll:E.value,onSelectAll:T,onSortChange:pe,onFilterChange:fe,onToggleFilterMenu:me},null,8,["currentSortColumn","currentSortDirection","isOpenFilter","checkAll"])],2)):x("",!0)],2),A.value&&R.value?(c(),d("div",Rt,[L(Lt)])):x("",!0)],6),e.pagination&&A.value?(c(),d("div",{key:0,class:m(["bh-pagination bh-py-5",{"bh-pointer-events-none":R.value}])},[i("div",Pt,[i("div",Ht,[i("span",Tt,b(ne(e.paginationInfo,A.value?de.value:0,ve.value,A.value)),1),e.showPageSize?U((c(),d("select",{key:0,"onUpdate:modelValue":n[2]||(n[2]=s=>h.value=s),class:"bh-pagesize"},[(c(!0),d(z,null,K(e.pageSizeOptions,s=>(c(),d("option",{value:s,key:s},b(s),9,Ot))),128))],512)),[[Le,h.value]]):x("",!0)]),i("div",Vt,[e.showFirstPage?(c(),d("button",{key:0,type:"button",class:m(["bh-page-item first-page",{disabled:v.value<=1}]),onClick:n[3]||(n[3]=s=>v.value=1)},[e.firstArrow?(c(),d("span",{key:0,innerHTML:e.firstArrow},null,8,jt)):(c(),d("svg",It,n[6]||(n[6]=[i("g",{fill:"currentColor","fill-rule":"evenodd"},[i("path",{d:"M8.354 1.646a.5.5 0 0 1 0 .708L2.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"}),i("path",{d:"M12.354 1.646a.5.5 0 0 1 0 .708L6.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"})],-1)])))],2)):x("",!0),i("button",{type:"button",class:m(["bh-page-item previous-page",{disabled:v.value<=1}]),onClick:Me},[e.previousArrow?(c(),d("span",{key:0,innerHTML:e.previousArrow},null,8,Ut)):(c(),d("svg",Jt,n[7]||(n[7]=[i("path",{fill:"currentColor","fill-rule":"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"},null,-1)])))],2),e.showNumbers?(c(!0),d(z,{key:1},K(qe.value,s=>(c(),d("button",{key:s,type:"button",class:m(["bh-page-item",{disabled:v.value===s,"bh-active":s===v.value}]),onClick:r=>Ae(s)},b(s),11,Et))),128)):x("",!0),i("button",{type:"button",class:m(["bh-page-item next-page",{disabled:v.value>=j.value}]),onClick:Be},[e.nextArrow?(c(),d("span",{key:0,innerHTML:e.nextArrow},null,8,$t)):(c(),d("svg",Gt,n[8]||(n[8]=[i("path",{fill:"currentColor","fill-rule":"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8L4.646 2.354a.5.5 0 0 1 0-.708z"},null,-1)])))],2),e.showLastPage?(c(),d("button",{key:2,type:"button",class:m(["bh-page-item last-page",{disabled:v.value>=j.value}]),onClick:n[4]||(n[4]=s=>v.value=j.value)},[e.lastArrow?(c(),d("span",{key:0,innerHTML:e.lastArrow},null,8,Kt)):(c(),d("svg",Wt,n[9]||(n[9]=[i("g",{fill:"currentColor","fill-rule":"evenodd"},[i("path",{d:"M3.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L9.293 8L3.646 2.354a.5.5 0 0 1 0-.708z"}),i("path",{d:"M7.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L13.293 8L7.646 2.354a.5.5 0 0 1 0-.708z"})],-1)])))],2)):x("",!0)])])],2)):x("",!0)]))}}),Zt={class:"panel px-0 pb-1.5 border-[#e0e6ed] dark:border-[#1b2e4b]"},Qt={class:"datatable invoice-table"},Xt={class:"mb-4.5 px-5 flex md:items-center md:flex-row flex-col gap-5"},el={class:"flex items-center gap-2"},tl={class:"ltr:ml-auto rtl:mr-auto"},ll={class:"flex items-center font-semibold"},ol={class:"p-0.5 bg-white-dark/30 rounded-full w-max ltr:mr-2 rtl:ml-2"},nl=["src"],al={class:"font-semibold ltr:text-right rtl:text-left"},il={class:"flex gap-4 items-center justify-center"},rl=["onClick"],vl=se({__name:"list",setup(S){We({title:"Invoice List"});const C=_(null),a=_(""),g=_([{field:"invoice",title:"Invoice"},{field:"name",title:"Name"},{field:"email",title:"Email"},{field:"date",title:"Date"},{field:"amount",title:"Amount",headerClass:"justify-end"},{field:"status",title:"Status"},{field:"actions",title:"Actions",sort:!1,headerClass:"justify-center"}]),k=_([{id:1,invoice:"081451",name:"Laurie Fox",email:"lauriefox@company.com",date:"15 Dec 2020",amount:"2275.45",status:"Paid"},{id:2,invoice:"081452",name:"Alexander Gray",email:"alexGray3188@gmail.com",date:"20 Dec 2020",amount:"1044.00",status:"Paid"},{id:3,invoice:"081681",name:"James Taylor",email:"jamestaylor468@gmail.com",date:"27 Dec 2020",amount:"20.00",status:"Pending"},{id:4,invoice:"082693",name:"Grace Roberts",email:"graceRoberts@company.com",date:"31 Dec 2020",amount:"344.00",status:"Paid"},{id:5,invoice:"084743",name:"Donna Rogers",email:"donnaRogers@hotmail.com",date:"03 Jan 2021",amount:"405.15",status:"Paid"},{id:6,invoice:"086643",name:"Amy Diaz",email:"amy968@gmail.com",date:"14 Jan 2020",amount:"100.00",status:"Paid"},{id:7,invoice:"086773",name:"Nia Hillyer",email:"niahillyer666@comapny.com",date:"20 Jan 2021",amount:"59.21",status:"Pending"},{id:8,invoice:"087916",name:"Mary McDonald",email:"maryDonald007@gamil.com",date:"25 Jan 2021",amount:"79.00",status:"Pending"},{id:9,invoice:"089472",name:"Andy King",email:"kingandy07@company.com",date:"28 Jan 2021",amount:"149.00",status:"Paid"},{id:10,invoice:"091768",name:"Vincent Carpenter",email:"vincentcarpenter@gmail.com",date:"30 Jan 2021",amount:"400",status:"Paid"},{id:11,invoice:"095841",name:"Kelly Young",email:"youngkelly@hotmail.com",date:"06 Feb 2021",amount:"49.00",status:"Pending"},{id:12,invoice:"098424",name:"Alma Clarke",email:"alma.clarke@gmail.com",date:"10 Feb 2021",amount:"234.40",status:"Paid"}]);_(""),_(["id","invoice","name","email","date","amount","status","actions"]),_({headings:{id:(e,l,v)=>"#"},perPage:10,perPageValues:[10,20,30,50,100],skin:"table-hover",columnsClasses:{actions:"actions !text-center w-1"},pagination:{show:!0,nav:"scroll",chunk:10},texts:{count:"Showing {from} to {to} of {count} entries",filter:"",filterPlaceholder:"Search...",limit:""},resizableColumns:!1,sortable:["invoice","name","email","date","amount","status"],sortIcon:{base:"sort-icon-none",up:"sort-icon-asc",down:"sort-icon-desc"}});const y=(e=null)=>{if(confirm("Are you sure want to delete selected row ?"))if(e)k.value=k.value.filter(l=>l.id!=e),C.value.clearSelectedRows();else{const v=C.value.getSelectedRows().map(h=>h.id);k.value=k.value.filter(h=>!v.includes(h.id)),C.value.clearSelectedRows()}};return(e,l)=>{var h;const v=Ye("router-link");return c(),d("div",null,[i("div",Zt,[i("div",Qt,[i("div",Xt,[i("div",el,[i("button",{type:"button",class:"btn btn-danger gap-2",onClick:l[0]||(l[0]=F=>y())},[L(we),l[2]||(l[2]=W(" Delete "))]),L(v,{to:"/apps/invoice/add",class:"btn btn-primary gap-2"},{default:O(()=>[L(Qe),l[3]||(l[3]=W(" Add New "))]),_:1})]),i("div",tl,[U(i("input",{"onUpdate:modelValue":l[1]||(l[1]=F=>a.value=F),type:"text",class:"form-input",placeholder:"Search..."},null,512),[[re,a.value]])])]),L(xe(Yt),{ref_key:"datatable",ref:C,rows:k.value,columns:g.value,totalRows:(h=k.value)==null?void 0:h.length,hasCheckbox:!0,sortable:!0,search:a.value,skin:"whitespace-nowrap bh-table-hover",firstArrow:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M13 19L7 12L13 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path opacity="0.5" d="M16.9998 19L10.9998 12L16.9998 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>',lastArrow:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M11 19L17 12L11 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path opacity="0.5" d="M6.99976 19L12.9998 12L6.99976 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg> ',previousArrow:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M15 5L9 12L15 19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>',nextArrow:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M9 5L15 12L9 19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>'},{invoice:O(F=>[L(v,{to:"/apps/invoice/preview",class:"text-primary underline font-semibold hover:no-underline"},{default:O(()=>[W("#"+b(F.value.invoice),1)]),_:2},1024)]),name:O(F=>[i("div",ll,[i("div",ol,[i("img",{class:"h-8 w-8 rounded-full object-cover",src:`/assets/images/profile-${F.value.id}.jpeg`},null,8,nl)]),W(" "+b(F.value.name),1)])]),amount:O(F=>[i("div",al,"$"+b(F.value.amount),1)]),status:O(F=>[i("span",{class:m(["badge",[F.value.status.toLowerCase()==="paid"?"badge-outline-success":"badge-outline-danger"]])},b(F.value.status),3)]),actions:O(F=>[i("div",il,[L(v,{to:"/apps/invoice/edit",class:"hover:text-info"},{default:O(()=>[L(Ze,{class:"w-4.5 h-4.5"})]),_:1}),L(v,{to:"/apps/invoice/preview",class:"hover:text-primary"},{default:O(()=>[L(Xe)]),_:1}),i("button",{type:"button",class:"hover:text-danger",onClick:B=>y(`${F.value.id}`)},[L(we)],8,rl)])]),_:1},8,["rows","columns","totalRows","search"])])])])}}});export{vl as default};
